<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>부동산 분쟁 전문 - 법무법인(유한) 예일법조</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <style>
    body {
      font-family: 'Pretendard', sans-serif;
    }

    /* 메가메뉴 스타일 */
    .mega-menu {
      position: absolute;
      left: 0;
      right: 0;
      top: 100%;
      background: white;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      border-top: 1px solid #e5e7eb;
    }

    .mega-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }

    /* 모바일에서 메가메뉴 숨기기 */
    @media (max-width: 768px) {
      .mega-menu {
        display: none;
      }
    }

    .hero-video {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .header-transparent {
      background: transparent;
      border-bottom: none;
    }

    .header-scrolled {
      background: #fff;
      border-bottom: 1px solid #f3f4f6;
      transition: all 0.3s ease;
    }

    /* 메가메뉴 열렸을 때 헤더 스타일 */
    .header-transparent.mega-menu-open {
      background: white;
      border-bottom: 1px solid #f3f4f6;
    }

    .header-transparent.mega-menu-open a {
      color: #111827 !important;
    }

    /* 모바일 메뉴 아코디언 스타일 */
    .mobile-accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .mobile-accordion-content.active {
      max-height: 300px;
      overflow-y: auto;
    }

    .mobile-accordion-arrow {
      transition: transform 0.3s ease;
    }

    .mobile-accordion-arrow.rotate {
      transform: rotate(180deg);
    }

    .floating-buttons {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      transform: translateY(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 1000;
      padding: 12px 0;
    }

    .floating-buttons.show {
      transform: translateY(0);
    }
    
    /* 머메이드 모바일 오버레이 */
    .mermaid-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
      text-align: center;
      font-size: 1.1rem;
      font-weight: 400;
      color: #fff;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 0 10px;
      border-radius: 8px;
      pointer-events: auto;
      transition: opacity 0.5s;
      opacity: 1;
    }
    .mermaid-overlay.hide {
      opacity: 0;
      transition: opacity 0.5s;
    }
    @media (max-width: 768px) {
      .mermaid-overlay {
        display: flex;
      }
    }
  </style>
    
    <!-- Navigation and Footer Modules (Assuming these files exist) -->
    <script src="../assets/js/nav.js"></script>
    <script src="../assets/js/floating-banner.js"></script>
    <script src="../assets/js/breadcrumb.js"></script>
    <script src="../assets/js/footer.js"></script>
</head>


<body class="bg-white text-black">
  <!-- SERVICES -->
  <section id="services" class="py-24 lg:py-32 bg-white" x-data="{ activeTab: 'lease-disputes' }">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
      <div class="text-center mb-16 sm:mb-20">
        <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">OUR EXPERTISE</span>
        <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
          부동산 법률 서비스
        </h2>
        <p class="text-lg text-[#22304a] max-w-3xl mx-auto">
          복잡하게 얽힌 이해관계를 명쾌하게 분석하고, 의뢰인의 재산권을 지키기 위한 최적의 법률 전략을 실행합니다.<br>어떤 어려운 상황에서도 가장 확실한 해결책을 찾아냅니다.
        </p>
      </div>

      <!-- 탭 버튼 -->
      <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-16">
        <button @click="activeTab = 'lease-disputes'" :class="activeTab === 'lease-disputes' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">임대차 분쟁</button>
        <button @click="activeTab = 'eviction-lawsuits'" :class="activeTab === 'eviction-lawsuits' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">명도/인도 소송</button>
        <button @click="activeTab = 'redevelopment'" :class="activeTab === 'redevelopment' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">재개발/재건축</button>
        <button @click="activeTab = 'sales-disputes'" :class="activeTab === 'sales-disputes' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">매매/소유권 분쟁</button>
        <button @click="activeTab = 'construction-disputes'" :class="activeTab === 'construction-disputes' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">건설/하자 소송</button>
        <button @click="activeTab = 'investment-fraud'" :class="activeTab === 'investment-fraud' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'" class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">기획부동산/사기</button>
      </div>

      <!-- 탭 콘텐츠 -->
      <div class="space-y-12">
        <!-- 임대차 분쟁 -->
        <div x-show="activeTab === 'lease-disputes'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">임대차 분쟁 (주택/상가)</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 임대차보증금 반환 청구 소송</li>
                <li>• 상가 권리금 회수 방해로 인한 손해배상 청구</li>
                <li>• 계약갱신요구권, 묵시적 갱신 관련 분쟁</li>
                <li>• 월세 연체, 무단 전대 등을 이유로 한 계약 해지</li>
                <li>• 원상회복 의무 범위 및 비용 관련 분쟁</li>
                <li>• 임차권등기명령 신청 및 해결</li>
                <li>• 전세사기 피해자 법률 대리 및 재산 보전</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">임대인과 임차인 모두를 위한 최적의 솔루션</h4>
              <p class="text-[#22304a] mb-4">
                임대차 분쟁은 감정적 대립으로 번지기 쉽습니다. 저희는 법리적 분석을 통해 의뢰인의 권리를 명확히 하고, 내용증명 발송부터 소송, 강제집행까지 원스톱 법률 서비스를 제공합니다. 특히, 임차인의 보증금 반환 문제와 임대인의 월세 연체 문제에 대해 신속한 재산 보전 조치(가압류 등)를 병행하여 실질적인 피해 회복을 돕습니다.
              </p>
              <p class="text-[#22304a]">
                복잡한 상가임대차보호법상의 권리금 규정, 주택임대차보호법상의 계약갱신요구권 등 최신 판례와 법령을 완벽하게 분석하여 의뢰인이 불이익을 받지 않도록 최전선에서 방어합니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 보증금반환청구소송 전액 인용 150여건, 권리금 손해배상 청구 평균 인용률 85%
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 명도/인도 소송 -->
        <div x-show="activeTab === 'eviction-lawsuits'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">명도/인도 소송</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 임대차 계약 종료 후 불법 점유자에 대한 명도소송</li>
                <li>• 부동산 경매 낙찰 후 인도명령 및 명도소송</li>
                <li>• 점유이전금지가처분 신청 및 집행</li>
                <li>• 부당이득 반환 청구 (점유 기간 동안의 임료 상당액)</li>
                <li>• 명도 단행 가처분 신청</li>
                <li>• 명도소송 승소 후 강제집행(퇴거) 절차 대행</li>
                <li>• 유치권 부존재 확인 소송 병행</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">신속하고 확실한 부동산 점유 회복</h4>
              <p class="text-[#22304a] mb-4">
                재산권 행사의 가장 기본적인 전제는 부동산에 대한 온전한 점유를 회복하는 것입니다. 명도소송의 핵심은 '신속성'과 '정확성'입니다. 저희는 소송 전, 현재의 점유자가 제3자에게 점유를 넘기지 못하도록 하는 '점유이전금지가처분'을 가장 먼저 신청하여 승소 판결의 실효성을 확보합니다.
              </p>
              <p class="text-[#22304a]">
                경매 낙찰, 계약 종료 등 다양한 원인에 따른 명도/인도 분쟁에서 최단 기간 내에 판결을 받고, 이후 복잡한 강제집행 절차까지 책임지고 대행함으로써 의뢰인이 하루빨리 자신의 재산권을 완전히 행사할 수 있도록 돕습니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 점유이전금지가처분 인용률 99%, 명도소송 평균 처리기간 5.1개월
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- 재개발/재건축 -->
        <div x-show="activeTab === 'redevelopment'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">재개발/재건축</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 재개발·재건축 조합 설립 및 운영 관련 법률 자문</li>
                <li>• 조합총회 결의 무효·취소 소송</li>
                <li>• 관리처분계획 취소 소송, 분양 자격 관련 분쟁</li>
                <li>• 현금청산자 보상금 증액 소송 (수용재결, 이의재결, 행정소송)</li>
                <li>• 매도청구소송 대응 (조합 측/현금청산자 측 대리)</li>
                <li>• 영업손실보상, 주거이전비, 이사비 관련 분쟁</li>
                <li>• 지역주택조합 관련 분쟁 (탈퇴, 분담금 반환 등)</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">조합과 조합원의 권익을 모두 아우르는 전문성</h4>
              <p class="text-[#22304a] mb-4">
                재개발·재건축 사업은 수많은 이해관계가 충돌하는 복잡한 과정입니다. 저희는 조합 측에 안정적인 사업 추진을 위한 법률 리스크 관리 및 인허가 자문을 제공하는 동시에, 조합원의 정당한 재산권이 침해받지 않도록 적극적으로 대응합니다.
              </p>
              <p class="text-[#22304a]">
                특히 감정평가액에 불복하는 현금청산자들을 대리하여, 감정평가서의 위법·부당함을 다투고 정당한 보상금을 받을 수 있도록 보상금 증액 소송을 수행합니다. 관리처분계획의 하자를 다투거나, 부당하게 조합원 지위를 박탈당한 경우 등 각종 행정소송에서 최고의 전문성을 발휘합니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 관리처분계획 취소소송 일부 승소 12건, 현금청산 보상금 평균 22% 증액
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- 매매/소유권 분쟁 -->
        <div x-show="activeTab === 'sales-disputes'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">매매/소유권 분쟁</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 부동산 매매계약 해제, 계약금 반환 및 위약금 청구</li>
                <li>• 소유권이전등기 청구 소송</li>
                <li>• 진정명의회복을 위한 소유권이전등기 소송</li>
                <li>• 사해행위취소 소송 (채무자의 재산 빼돌리기 방어)</li>
                <li>• 점유취득시효 완성을 원인으로 한 소유권이전등기</li>
                <li>• 공유물분할 청구 소송</li>
                <li>• 등기 추정력 관련 분쟁 및 등기말소 청구 소송</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">부동산 권리의 핵심, 소유권 분쟁 해결사</h4>
              <p class="text-[#22304a] mb-4">
                부동산의 최종적인 권리는 등기부상의 '소유권'으로 귀결됩니다. 저희는 계약금만 지급된 상태에서의 계약 파기, 중도금 지급 이후의 이행 불능 등 부동산 매매 과정에서 발생하는 모든 분쟁에 대한 명확한 해결책을 제시합니다.
              </p>
              <p class="text-[#22304a]">
                특히, 이중매매, 명의신탁, 상속 등 복잡한 원인으로 소유권 관계가 불분명해진 경우, 등기부와 사실관계를 철저히 분석하여 의뢰인의 진정한 소유권을 되찾아 드립니다. 채무자가 재산을 빼돌리기 위해 허위로 부동산을 매각한 경우, 사해행위취소 소송을 통해 이를 원상회복시키는 데 독보적인 전문성을 보유하고 있습니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 사해행위취소 소송 승소 28건, 소유권이전등기 청구 인용 50여건
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 건설/하자 소송 -->
        <div x-show="activeTab === 'construction-disputes'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">건설/하자 소송</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 공사대금 청구 소송 (미지급 공사비, 추가 공사비)</li>
                <li>• 아파트, 오피스텔 등 집합건물 하자보수 손해배상 청구</li>
                <li>• 하자 감정 신청 및 감정 결과 분석</li>
                <li>• 공사 지연(지체상금) 및 이행보증 관련 분쟁</li>
                <li>• 유치권 행사 및 유치권 부존재 확인 소송</li>
                <li>• 설계, 감리 관련 손해배상 청구</li>
                <li>• 산업안전보건법 및 건설산업기본법 관련 자문</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">건설 분쟁의 기술적, 법률적 완전 분석</h4>
              <p class="text-[#22304a] mb-4">
                건설 분쟁은 법률뿐만 아니라 건축, 토목에 대한 기술적 이해가 필수적입니다. 저희는 건축 전문가와 협업하여 설계도서와 현장 상황을 면밀히 분석하고, 소송 과정에서 필수적인 하자 감정 절차를 주도적으로 이끌어갑니다. 이를 통해 하자의 존부, 범위, 보수 비용을 정확하게 산정하여 손해배상액을 극대화합니다.
              </p>
              <p class="text-[#22304a]">
                공사대금을 받지 못한 건설사를 위해서는 신속한 채권 가압류 및 유치권 신고를 통해 채권을 확보하고, 불합리한 공사비 감액 주장에 효과적으로 대응합니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 하자 소송 평균 인용액 3.5억원, 공사대금 청구 소송 회수율 90%
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- 기획부동산/사기 -->
        <div x-show="activeTab === 'investment-fraud'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">기획부동산/부동산 사기</h3>
          <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 서비스 포트폴리오</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 기획부동산 사기 관련 민·형사상 법적 대응</li>
                <li>• 개발 불능 토지 매매계약 취소 및 대금 반환 청구</li>
                <li>• 분양형 호텔, 지식산업센터 등 수익형 부동산 관련 사기</li>
                <li>• 깡통전세, 이중계약 등 전세사기 피해 구제</li>
                <li>• 사기, 배임, 유사수신행위 등 혐의로 형사 고소 대리</li>
                <li>• 범죄수익환수를 위한 가압류 및 추징보전명령 신청</li>
                <li>• 다수 피해자 집단소송 수행</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">피해자의 눈물을 닦아주는 강력한 법적 대응</h4>
              <p class="text-[#22304a] mb-4">
                기획부동산 및 각종 부동산 사기는 서민의 평생 모은 재산을 앗아가는 악질적인 범죄입니다. 피해 회복의 핵심은 '시간'입니다. 저희는 사기 가해자들의 재산을 신속하게 동결시키는 가압류, 가처분 등 보전조치를 최우선으로 진행합니다.
              </p>
              <p class="text-[#22304a]">
                이후 계약 취소 및 대금 반환을 구하는 민사소송과 가해자들을 처벌하기 위한 형사고소를 동시에 진행하여 모든 법적 수단을 총동원합니다. 다수의 피해자가 발생한 사건의 경우, 집단소송을 통해 보다 효율적이고 강력하게 피해 구제를 이끌어냅니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>대표 성과:</strong> 2024년 기획부동산 사기 집단소송 5건, 피해 회복액 200억원 이상
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>


  <!-- PROCESS -->
  <section id="process" class="py-24 bg-gray-50 lg:py-32 scroll-mt-24" x-data="processTab">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <!-- 섹션 헤더 -->
      <div class="text-center mb-16 sm:mb-20">
        <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">PROCESS</span>
        <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
          부동산 분쟁 프로세스
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          디테일한 절차를 한눈에 살펴보세요.
        </p>
      </div>

      <!-- 탭 버튼 -->
      <div class="flex flex-wrap justify-center gap-4 mb-8">
        <button @click="activeProcessTab = 'eviction'"
          :class="activeProcessTab === 'eviction' ? 'bg-[#22304a] text-white' : 'bg-[#f3f4f6] text-[#22304a] hover:bg-[#1a2233]'"
          class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">
          명도소송
        </button>
        <button @click="activeProcessTab = 'deposit'"
          :class="activeProcessTab === 'deposit' ? 'bg-[#22304a] text-white' : 'bg-[#f3f4f6] text-[#22304a] hover:bg-[#1a2233]'"
          class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">
          보증금반환
        </button>
        <button @click="activeProcessTab = 'redevelopment'"
          :class="activeProcessTab === 'redevelopment' ? 'bg-[#22304a] text-white' : 'bg-[#f3f4f6] text-[#22304a] hover:bg-[#1a2233]'"
          class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">
          재개발·재건축
        </button>
        <button @click="activeProcessTab = 'ownership'"
          :class="activeProcessTab === 'ownership' ? 'bg-[#22304a] text-white' : 'bg-[#f3f4f6] text-[#22304a] hover:bg-[#1a2233]'"
          class="px-4 md:px-6 py-3 rounded-full font-medium transition-all duration-300 text-sm md:text-base">
          소유권 분쟁
        </button>
      </div>

      <!-- Mermaid 다이어그램 - 명도소송 -->
      <div x-show="activeProcessTab === 'eviction'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayEviction" class="mermaid-overlay">
           명도소송 진행 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'eviction')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'eviction')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('eviction')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerEviction" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramEviction" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

            flowchart TB
            Start([명도 필요성 발생]) --> Consult[변호사 상담<br>- 사실관계 파악<br>- 증거자료 검토]

            Consult --> PreservationDecision{점유이전금지<br>가처분 필요?}
            PreservationDecision -->|필요| Preservation[점유이전금지가처분<br>- 제3자 점유이전 차단<br>- 판결 실효성 확보]
            PreservationDecision -->|불필요| Notice

            Preservation --> PreservationResult{가처분 결정}
            PreservationResult -->|인용| Notice[내용증명 발송<br>- 계약해지 통보<br>- 명도기한 지정]
            PreservationResult -->|기각| Notice

            Notice --> Response{임차인 반응}
            Response -->|자진퇴거| End1([자진 명도 완료])
            Response -->|거부/무응답| FileSuit

            FileSuit[명도소송 제기<br>- 소장 작성/제출<br>- 인지/송달료 납부] --> CourtService[법원 송달<br>- 소장 부본 송달<br>- 답변서 제출기한 부여]

            CourtService --> DefendantResponse{피고 대응}
            DefendantResponse -->|답변서 제출| FullTrial
            DefendantResponse -->|무응답| SimplifiedTrial

            FullTrial[정식 변론절차<br>- 쟁점 정리<br>- 증거 조사<br>- 증인 신문] --> TrialEnd
            SimplifiedTrial[간이 절차<br>- 자백간주<br>- 신속 진행] --> TrialEnd

            TrialEnd[변론 종결] --> Judgment[1심 판결 선고]

            Judgment --> JudgmentResult{판결 결과}
            JudgmentResult -->|원고 승소| JudgmentConfirm
            JudgmentResult -->|원고 패소| AppealDecision1

            AppealDecision1{항소 여부} -->|항소| Appeal1[원고 항소<br>- 항소장 제출<br>- 항소이유서 작성]
            AppealDecision1 -->|포기| End2([소송 종결])

            JudgmentConfirm[판결 확정 대기<br>- 송달 후 2주] --> DefendantAppeal{피고 항소?}
            DefendantAppeal -->|항소| AppealCourt[항소심 진행<br>- 속행/변경/파기]
            DefendantAppeal -->|미항소| Finalized

            Appeal1 --> AppealCourt
            AppealCourt --> AppealJudgment[항소심 판결]
            AppealJudgment --> FinalJudgment{최종 판결}
            FinalJudgment -->|원고 승소| Finalized
            FinalJudgment -->|원고 패소| End3([패소 확정])

            Finalized[판결 확정] --> VoluntaryCompliance{자진 이행?}
            VoluntaryCompliance -->|이행| End4([명도 완료])
            VoluntaryCompliance -->|불이행| ExecutionPrep

            ExecutionPrep[강제집행 준비<br>- 집행문 부여<br>- 송달증명원] --> ExecutionApply[집행 신청<br>- 집행관 사무소<br>- 집행비용 예납]

            ExecutionApply --> ExecutionNotice[계고 및 최고<br>- 자진퇴거 최종통보<br>- 집행일 지정]

            ExecutionNotice --> FinalCompliance{최종 이행?}
            FinalCompliance -->|이행| End5([자진 명도])
            FinalCompliance -->|불이행| ForcedExecution

            ForcedExecution[강제집행 단행<br>- 집행관 주도<br>- 강제개문/퇴거<br>- 동산 반출/보관] --> ExecutionComplete[집행 완료<br>- 부동산 인도<br>- 인도조서 작성]

            ExecutionComplete --> End6([명도 완료])

            classDef lawyerAction fill:#2c5aa0,stroke:#1a3a52,color:#fff,stroke-width:2px
            classDef courtProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
            classDef clientStatus fill:#ff6b6b,stroke:#c92a2a,color:#fff,stroke-width:2px
            classDef decision fill:#ffd43b,stroke:#fab005,color:#000,stroke-width:2px
            classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
            
            class Consult,Notice,FileSuit,FullTrial,SimplifiedTrial,Appeal1,ExecutionPrep,ExecutionApply lawyerAction
            class CourtService,TrialEnd,Judgment,JudgmentConfirm,AppealCourt,AppealJudgment,Finalized,ExecutionNotice,ForcedExecution,ExecutionComplete courtProcess
            class Preservation,PreservationResult clientStatus
            class PreservationDecision,Response,DefendantResponse,JudgmentResult,AppealDecision1,DefendantAppeal,FinalJudgment,VoluntaryCompliance,FinalCompliance decision
            class End1,End2,End3,End4,End5,End6 endNode

          </div>
        </div>
      </div>

      <!-- Mermaid 다이어그램 - 보증금반환 -->
      <div x-show="activeProcessTab === 'deposit'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayDeposit" class="mermaid-overlay">
           보증금반환 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'deposit')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'deposit')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('deposit')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerDeposit" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramDeposit" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

          flowchart TB
          Start([임대차 종료]) --> MoveOut[임차인 이사<br>- 계약만료/해지<br>- 새 주소 이전]
      
          MoveOut --> ReturnRequest[보증금 반환 요청<br>- 임대인에게 통보<br>- 반환계좌 안내]
      
          ReturnRequest --> LandlordResponse{임대인 반응}
          LandlordResponse -->|즉시반환| ReturnComplete([보증금 수령 완료])
          LandlordResponse -->|반환지연|催促
          LandlordResponse -->|반환거부| LegalConsult
      
          催促[반환 촉구<br>- 유선/문자 독촉<br>- 내용증명 발송] -->催促Response{반응}
          催促Response -->|반환| ReturnComplete
          催促Response -->|계속거부| LegalConsult
      
          LegalConsult[변호사 상담<br>- 권리관계 확인<br>- 대항력/우선변제권 점검] --> AssetCheck[임대인 재산조사<br>- 부동산 등기 확인<br>- 예금/동산 파악]
      
          AssetCheck --> PreservationNeed{보전처분 필요성}
          PreservationNeed -->|긴급| UrgentPreservation[가압류 신청<br>- 부동산/예금 가압류<br>- 처분금지 확보]
          PreservationNeed -->|여유| DirectSuit
      
          UrgentPreservation --> PreservationDecision{가압류 결정}
          PreservationDecision -->|인용| DirectSuit
          PreservationDecision -->|기각| DirectSuit
      
          DirectSuit[보증금반환청구소송<br>- 소장 작성/제출<br>- 지연손해금 포함] --> SuitProgress[소송 진행<br>- 변론기일<br>- 화해권고]
      
          SuitProgress --> SettlementAttempt{조정/화해}
          SettlementAttempt -->|성립| SettlementExec[화해금 지급<br>- 분할지급 가능<br>- 강제집행력 확보]
          SettlementAttempt -->|결렬| TrialContinue
      
          SettlementExec --> ReturnComplete2([보증금 회수 완료])
      
          TrialContinue[본안 심리 계속] --> FirstJudgment[1심 판결]
      
          FirstJudgment --> JudgmentReview{판결 검토}
          JudgmentReview -->|전부승소| WaitFinalize
          JudgmentReview -->|일부승소| AppealConsider
          JudgmentReview -->|패소| AppealDecision
      
          AppealConsider{항소 검토} -->|만족| WaitFinalize
          AppealConsider -->|불만족| AppealDecision
      
          AppealDecision{항소 결정} -->|항소| AppealProc[항소심 진행]
          AppealDecision -->|수용| DefeatEnd([패소 확정])
      
          AppealProc --> AppealResult[항소심 판결]
          AppealResult --> FinalDecision{최종 결과}
          FinalDecision -->|승소| WaitFinalize
          FinalDecision -->|패소| DefeatEnd
      
          WaitFinalize[판결 확정 대기] --> CheckVoluntary{임의이행 확인}
          CheckVoluntary -->|이행| ReturnComplete3([보증금 회수 완료])
          CheckVoluntary -->|불이행| ExecutionPrep
      
          ExecutionPrep[강제집행 준비<br>- 집행문 부여<br>- 재산명시/조회] --> ExecutionTarget{집행 대상}
      
          ExecutionTarget -->|부동산| RealEstateExec[부동산 경매<br>- 경매신청<br>- 배당참가]
          ExecutionTarget -->|예금| BankExec[예금 압류/추심<br>- 제3채무자 압류<br>- 추심명령]
          ExecutionTarget -->|동산/채권| OtherExec[기타재산 집행<br>- 동산압류<br>- 채권압류]
      
          RealEstateExec --> Distribution[배당절차<br>- 배당기일<br>- 배당금 수령]
          BankExec --> Collection[추심절차<br>- 은행 지급<br>- 직접 수령]
          OtherExec --> SaleProc[환가절차<br>- 경매/임의매각<br>- 대금 수령]
      
          Distribution --> FinalReturn([보증금 회수 완료])
          Collection --> FinalReturn
          SaleProc --> FinalReturn
      
          classDef tenantAction fill:#9775fa,stroke:#7048e8,color:#fff,stroke-width:2px
          classDef lawyerAction fill:#2c5aa0,stroke:#1a3a52,color:#fff,stroke-width:2px
          classDef courtProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
          classDef execution fill:#ff8787,stroke:#fa5252,color:#fff,stroke-width:2px
          classDef decision fill:#fcc419,stroke:#f59f00,color:#000,stroke-width:2px
          classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
          
          class MoveOut,ReturnRequest,催促 tenantAction
          class LegalConsult,AssetCheck,UrgentPreservation,DirectSuit,ExecutionPrep lawyerAction
          class SuitProgress,TrialContinue,FirstJudgment,WaitFinalize,AppealProc,AppealResult courtProcess
          class RealEstateExec,BankExec,OtherExec,Distribution,Collection,SaleProc execution
          class LandlordResponse,催促Response,PreservationNeed,PreservationDecision,SettlementAttempt,JudgmentReview,AppealConsider,AppealDecision,FinalDecision,CheckVoluntary,ExecutionTarget decision
          class ReturnComplete,ReturnComplete2,ReturnComplete3,FinalReturn,DefeatEnd endNode

          </div>
        </div>
      </div>

      <!-- Mermaid 다이어그램 - 재개발·재건축 -->
      <div x-show="activeProcessTab === 'redevelopment'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayRedevelopment" class="mermaid-overlay">
           재개발·재건축 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'redevelopment')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'redevelopment')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('redevelopment')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerRedevelopment" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramRedevelopment" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

          flowchart TB
          Start([재개발/재건축 추진]) --> UnionForm[조합설립추진위<br>- 추진위 구성<br>- 동의서 징구]
      
          UnionForm --> UnionApproval[조합설립인가<br>- 창립총회<br>- 시장/군수 인가]
      
          UnionApproval --> MemberStatus{조합원 지위}
          MemberStatus -->|조합원| MemberTrack
          MemberStatus -->|비조합원| NonMemberTrack
      
          MemberTrack --> ProjectPlan[사업계획 수립<br>- 정비계획 수립<br>- 사업시행인가]
      
          NonMemberTrack --> CashSettlement[현금청산 대상<br>- 감정평가<br>- 보상협의]
      
          ProjectPlan --> ManagementPlan[관리처분계획<br>- 분양자격 심사<br>- 추가분담금 산정]
      
          ManagementPlan --> PlanReview{계획 검토}
          PlanReview -->|동의| Construction
          PlanReview -->|이의| AdminLitigation
      
          AdminLitigation[행정소송<br>- 관리처분계획 취소소송<br>- 조합총회결의 무효] --> LitigationResult{소송 결과}
          LitigationResult -->|승소| PlanRevision[계획 수정<br>- 재심사/재산정]
          LitigationResult -->|패소| Construction
      
          PlanRevision --> ManagementPlan
      
          CashSettlement --> CompensationReview{보상금 수용}
          CompensationReview -->|수용| MoveOut[이주 및 명도]
          CompensationReview -->|불복| CompensationLitigation
      
          CompensationLitigation[보상금증액소송<br>- 수용재결<br>- 이의재결<br>- 행정소송] --> CompResult{소송 결과}
          CompResult -->|증액| IncreasedComp[증액 보상금 수령]
          CompResult -->|기각| OriginalComp[원 보상금 수령]
      
          IncreasedComp --> MoveOut
          OriginalComp --> MoveOut
      
          Construction[착공 및 시공<br>- 이주/철거<br>- 신축공사] --> SaleDispute{매도청구}
          SaleDispute -->|대상| SaleLitigation[매도청구소송<br>- 조합 → 조합원<br>- 시가 감정]
          SaleDispute -->|해당없음| Completion
      
          SaleLitigation --> SaleResult{판결}
          SaleResult -->|매도명령| ForcedSale[강제매도<br>- 소유권 이전<br>- 대금 지급]
          SaleResult -->|기각| MemberMaintain[조합원 지위 유지]
      
          ForcedSale --> ExitComplete([퇴거 완료])
          MemberMaintain --> Completion
      
          MoveOut --> ExitComplete2([현금청산 완료])
      
          Completion[준공 및 입주<br>- 준공인가<br>- 이전고시] --> Settlement{정산}
      
          Settlement -->|추가분담금| AdditionalPay[추가분담금 납부<br>- 분할납부 가능]
          Settlement -->|환급금| Refund[환급금 수령]
      
          AdditionalPay --> MoveIn[입주 및 등기<br>- 소유권이전등기<br>- 관리비 정산]
          Refund --> MoveIn
      
          MoveIn --> ProjectEnd([사업 완료])
      
          classDef unionAction fill:#2c5aa0,stroke:#1a3a52,color:#fff,stroke-width:2px
          classDef memberAction fill:#9775fa,stroke:#7048e8,color:#fff,stroke-width:2px
          classDef adminProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
          classDef litigation fill:#ff8787,stroke:#fa5252,color:#fff,stroke-width:2px
          classDef decision fill:#fcc419,stroke:#f59f00,color:#000,stroke-width:2px
          classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
          
          class UnionForm,UnionApproval,ProjectPlan,ManagementPlan,Construction,Completion unionAction
          class MemberTrack,CashSettlement,MoveOut,AdditionalPay,Refund,MoveIn memberAction
          class PlanRevision,IncreasedComp,OriginalComp,ForcedSale,MemberMaintain adminProcess
          class AdminLitigation,CompensationLitigation,SaleLitigation litigation
          class MemberStatus,PlanReview,LitigationResult,CompensationReview,CompResult,SaleDispute,SaleResult,Settlement decision
          class ExitComplete,ExitComplete2,ProjectEnd endNode

          </div>
        </div>
      </div>

      <!-- Mermaid 다이어그램 - 소유권 분쟁 -->
      <div x-show="activeProcessTab === 'ownership'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayOwnership" class="mermaid-overlay">
           소유권 분쟁 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'ownership')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'ownership')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('ownership')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerOwnership" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramOwnership" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

          flowchart TB
          Start([소유권 분쟁 발생]) --> DisputeType{분쟁 유형}
      
          DisputeType -->|매매계약| SalesDispute[매매계약 분쟁<br>- 계약금/중도금 단계<br>- 이행 불능/지연]
          DisputeType -->|명의신탁| TrustDispute[명의신탁 분쟁<br>- 실소유자 vs 명의자<br>- 신탁해지 요구]
          DisputeType -->|상속/공유| InheritDispute[상속/공유 분쟁<br>- 상속인간 다툼<br>- 공유물분할 요구]
          DisputeType -->|사해행위| FraudDispute[사해행위취소<br>- 채무자 재산도피<br>- 채권자 권리보호]
      
          SalesDispute --> ContractAnalysis[계약관계 분석<br>- 계약서 검토<br>- 이행 상황 확인]
          TrustDispute --> TrustAnalysis[신탁관계 분석<br>- 신탁 경위<br>- 증거 수집]
          InheritDispute --> InheritAnalysis[상속관계 분석<br>- 상속인 범위<br>- 지분 확인]
          FraudDispute --> FraudAnalysis[채권채무 분석<br>- 피보전채권<br>- 사해의사 입증]
      
          ContractAnalysis --> ContractAction{대응 방안}
          ContractAction -->|해제| ContractCancel[계약해제 통보<br>- 내용증명 발송<br>- 원상회복 요구]
          ContractAction -->|이행청구| PerformanceSuit[이행청구 소송<br>- 소유권이전등기<br>- 지체상금 청구]
      
          TrustAnalysis --> TrustAction[명의신탁해지 청구<br>- 소유권이전등기<br>- 부당이득반환]
      
          InheritAnalysis --> InheritAction{분할 방법}
          InheritAction -->|협의분할| Agreement[협의분할<br>- 상속인 전원 합의<br>- 분할협의서 작성]
          InheritAction -->|재판분할| DivisionSuit[공유물분할소송<br>- 현물/대금/가격분할<br>- 법원 결정]
      
          FraudAnalysis --> FraudAction[사해행위취소소송<br>- 가등기/소유권 말소<br>- 원상회복 청구]
      
          ContractCancel --> CancelResult{상대방 반응}
          CancelResult -->|수용| ReturnProcess[계약금 반환<br>- 위약금 정산<br>- 등기 정리]
          CancelResult -->|거부| DamageSuit[손해배상청구<br>- 계약금 배액<br>- 추가 손해]
      
          PerformanceSuit --> PerformanceJudgment{판결}
          PerformanceJudgment -->|인용| TransferOrder[이전등기명령<br>- 판결에 의한 등기<br>- 단독신청 가능]
          PerformanceJudgment -->|기각| AppealConsider1
      
          TrustAction --> TrustResult{법원 판단}
          TrustResult -->|인정| TrustTransfer[신탁재산 반환<br>- 소유권 회복<br>- 부당이득 정산]
          TrustResult -->|부인| AppealConsider2
      
          Agreement --> RegistrationPrep[등기 준비<br>- 협의서 공증<br>- 서류 준비]
          DivisionSuit --> DivisionJudgment{분할 판결}
          DivisionJudgment -->|현물분할| PhysicalDivision[현물 분할<br>- 경계 설정<br>- 분필 등기]
          DivisionJudgment -->|대금분할| SaleDivision[경매/매각<br>- 대금 분배<br>- 지분별 정산]
      
          FraudAction --> FraudJudgment{취소 판결}
          FraudJudgment -->|인용| Restoration[원상회복<br>- 소유권 회복<br>- 가등기 말소]
          FraudJudgment -->|기각| CreditorDefeat[채권자 패소<br>- 취소권 소멸]
      
          ReturnProcess --> OwnershipClear1([소유권 정리 완료])
          DamageSuit --> CompensationReceive[손해배상 수령]
          CompensationReceive --> OwnershipClear2([권리 구제 완료])
      
          TransferOrder --> Registration[소유권이전등기<br>- 등기소 신청<br>- 권리 확보]
          TrustTransfer --> Registration
          RegistrationPrep --> Registration
          PhysicalDivision --> Registration
          SaleDivision --> ProceedsDistribute[대금 배분<br>- 지분별 정산<br>- 세금 정리]
          Restoration --> Registration
      
          Registration --> OwnershipSecured([소유권 확보 완료])
          ProceedsDistribute --> OwnershipSecured
      
          AppealConsider1{항소 검토} -->|항소| AppealProcess1[항소심 진행]
          AppealConsider1 -->|포기| DisputeEnd1([소송 종결])
          AppealConsider2{항소 검토} -->|항소| AppealProcess2[항소심 진행]
          AppealConsider2 -->|포기| DisputeEnd2([소송 종결])
      
          AppealProcess1 --> FinalResult1{최종 결과}
          AppealProcess2 --> FinalResult2{최종 결과}
          FinalResult1 -->|승소| TransferOrder
          FinalResult1 -->|패소| DisputeEnd3([최종 패소])
          FinalResult2 -->|승소| TrustTransfer  
          FinalResult2 -->|패소| DisputeEnd4([최종 패소])
      
          CreditorDefeat --> DisputeEnd5([사해행위 불인정])
      
          classDef analysisAction fill:#2c5aa0,stroke:#1a3a52,color:#fff,stroke-width:2px
          classDef legalAction fill:#9775fa,stroke:#7048e8,color:#fff,stroke-width:2px
          classDef courtProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
          classDef propertyAction fill:#ff8787,stroke:#fa5252,color:#fff,stroke-width:2px
          classDef decision fill:#fcc419,stroke:#f59f00,color:#000,stroke-width:2px
          classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
          
          class ContractAnalysis,TrustAnalysis,InheritAnalysis,FraudAnalysis analysisAction
          class ContractCancel,PerformanceSuit,TrustAction,Agreement,DivisionSuit,FraudAction,DamageSuit,AppealProcess1,AppealProcess2 legalAction
          class TransferOrder,TrustTransfer,PhysicalDivision,SaleDivision,Restoration,Registration,RegistrationPrep courtProcess
          class ReturnProcess,CompensationReceive,ProceedsDistribute propertyAction
          class DisputeType,ContractAction,CancelResult,PerformanceJudgment,TrustResult,InheritAction,DivisionJudgment,FraudJudgment,AppealConsider1,AppealConsider2,FinalResult1,FinalResult2 decision
          class OwnershipClear1,OwnershipClear2,OwnershipSecured,DisputeEnd1,DisputeEnd2,DisputeEnd3,DisputeEnd4,DisputeEnd5,CreditorDefeat endNode

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-24 lg:py-32 bg-white scroll-mt-24">
    <div class="text-center mb-16 sm:mb-20">
      <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">FAQ</span>
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
        부동산 분쟁 관련 자주 묻는 질문
      </h2>
      <p class="text-lg text-[#22304a] max-w-2xl mx-auto">
        소중한 내 재산을 지키기 위해 반드시 알아야 할 법률 상식입니다.
      </p>
    </div>

    <div class="max-w-4xl mx-auto divide-y divide-gray-200 px-4">
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 내용증명은 꼭 보내야 하나요? 법적 효력이 있나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          내용증명 자체에 법적 강제력은 없습니다. 하지만 '언제, 누가, 어떤 내용의 의사표시를 했는지'를 우체국이 증명해주므로, 향후 소송에서 계약 해지 사실 등을 입증하는 중요한 증거가 됩니다. 또한, 상대방에게 심리적 압박을 주어 소송 전 분쟁을 해결하는 효과도 있으므로, 명도소송 전에는 반드시 보내는 것이 유리합니다.
        </p>
      </details>

      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 명도소송 기간과 비용은 보통 얼마나 드나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          기간은 상대방의 대응 방식에 따라 다르지만, 보통 6개월 내외가 소요됩니다. 상대방이 송달을 피하거나 답변서를 제출하지 않으면 더 빨라질 수 있고, 치열하게 다투면 더 길어질 수 있습니다. 비용은 변호사 보수와 법원에 납부하는 인지대, 송달료 등이 있으며, 소송가액(부동산 가액)에 따라 달라집니다. 승소 시 변호사 비용의 일부를 상대방에게 청구할 수 있습니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 월세를 안 내는 세입자가 연락도 안 받고 잠적했습니다.</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          절대 임의로 문을 열고 들어가거나 짐을 빼면 안 됩니다. 주거침입죄 등 형사처벌을 받을 수 있습니다. 이런 경우, 법원에 '공시송달'을 통해 소송을 진행할 수 있습니다. 상대방이 고의로 연락을 피하더라도 법적 절차에 따라 판결을 받고, 합법적인 강제집행을 통해 부동산을 인도받아야 합니다.
        </p>
      </details>

      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 상가 권리금을 보호받고 싶습니다. 어떻게 해야 하나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          상가임대차보호법에 따라 임대인은 임대차 기간이 끝나기 6개월 전부터 임대차 종료 시까지 임차인이 주선한 신규임차인으로부터 권리금을 지급받는 것을 방해해서는 안 됩니다. 만약 임대인이 정당한 사유 없이 신규 계약을 거절하는 등 방해 행위를 한다면, 임대인을 상대로 손해배상을 청구할 수 있습니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 전세사기를 당한 것 같습니다. 가장 먼저 해야 할 일은 무엇인가요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          피해 사실을 인지한 즉시, **1) 임대차계약서, 등기부등본, 이체 내역 등 모든 증거자료 확보, 2) 임대인 및 관련자(부동산 등)에 대한 재산 가압류 등 보전조치 신청, 3) 사기 혐의로 경찰서에 형사 고소**를 진행해야 합니다. 보증금을 지키기 위한 시간 싸움이므로, 망설이지 말고 신속하게 변호사의 도움을 받아 법적 절차에 착수해야 합니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 부동산 매매계약을 해제하고 싶은데, 계약금을 돌려받을 수 있나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          일반적으로 매수인은 지급한 계약금을 포기하고, 매도인은 받은 계약금의 배액을 상환함으로써 계약을 해제할 수 있습니다. 단, 이는 상대방이 계약 이행에 착수하기 전(통상 중도금 지급 전)까지만 가능합니다. 만약 상대방의 채무불이행(예: 잔금 미지급)을 이유로 계약을 해제하는 경우에는 계약금을 돌려받고 추가로 손해배상을 청구할 수도 있습니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 공사대금을 받지 못하고 있습니다. 어떻게 해야 하나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          가장 먼저 해당 건물에 대해 '유치권'을 행사할 수 있는지 검토해야 합니다. 유치권은 공사대금을 받을 때까지 건물의 인도를 거부할 수 있는 강력한 권리입니다. 이와 동시에, 발주자의 다른 재산에 대한 가압류를 신청하고, 공사대금 청구 소송을 제기하여 채권을 확보해야 합니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 재개발 조합의 관리처분계획에 불만이 있습니다. 다툴 수 있나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          네, 다툴 수 있습니다. 조합원 분양 자격, 부담금의 규모, 감정평가액 등 관리처분계획의 내용에 위법하거나 부당한 점이 있다면, 관할 행정법원에 '관리처분계획 취소 소송'을 제기할 수 있습니다. 단, 소송을 제기할 수 있는 기간이 정해져 있으므로(계획 인가 고시일로부터 90일 이내), 신속하게 변호사와 상담하여 대응해야 합니다.
        </p>
      </details>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
  <script>
    // Mermaid 초기화 - Alpine.js와의 타이밍 문제 해결을 위해 수동으로 렌더링
    mermaid.initialize({
      startOnLoad: false,  // 자동 시작 비활성화
      theme: 'neutral',
      flowchart: {
        htmlLabels: true,
        curve: 'basis',
        nodeSpacing: 50,
        rankSpacing: 50
      }
    });

    // 다이어그램 원본 텍스트 저장
    const mermaidDiagramTexts = {};
    
    // 페이지 로드시 원본 텍스트 저장 - 자동으로 모든 mermaid 다이어그램 감지
    document.addEventListener('DOMContentLoaded', () => {
      // data-tab 속성을 가진 모든 mermaid 요소를 찾아서 저장
      const mermaidElements = document.querySelectorAll('.mermaid[id^="mermaidDiagram"]');
      
      mermaidElements.forEach(element => {
        // ID에서 탭 이름 추출 (예: mermaidDiagramEviction -> eviction)
        const tabName = element.id.replace('mermaidDiagram', '').toLowerCase();
        if (tabName) {
          mermaidDiagramTexts[tabName] = element.textContent.trim();
          console.log(`Stored diagram for tab: ${tabName}`);
        }
      });
    });

    // Alpine.js가 렌더링된 후 Mermaid 다이어그램 렌더링
    function renderMermaidDiagrams(specificTab = null) {
      if (!specificTab) return;
      
      // 동적으로 탭 이름을 기반으로 요소 찾기
      const elementId = `mermaidDiagram${specificTab.charAt(0).toUpperCase() + specificTab.slice(1)}`;
      const element = document.getElementById(elementId);
      
      if (element && mermaidDiagramTexts[specificTab]) {
        // 기존 내용 모두 제거
        element.innerHTML = '';
        element.removeAttribute('data-processed');
        element.textContent = mermaidDiagramTexts[specificTab];
        
        // mermaid 렌더링
        try {
          mermaid.init(undefined, element);
          console.log(`Rendered diagram for tab: ${specificTab}`);
        } catch (e) {
          console.error(`Mermaid rendering error for ${specificTab}:`, e);
        }
      } else {
        console.warn(`No diagram found for tab: ${specificTab}`);
      }
    }

    // 드래그 기능 구현 함수
    function setupDragFeature(containerId, diagramId) {
      const container = document.getElementById(containerId);
      const diagram = document.getElementById(diagramId);
      if (!container || !diagram) return;

      let isDragging = false;
      let startX, startY, scrollLeft, scrollTop;

      container.addEventListener('mousedown', (e) => {
        isDragging = true;
        container.style.cursor = 'grabbing';
        startX = e.pageX - container.offsetLeft;
        startY = e.pageY - container.offsetTop;
        scrollLeft = container.scrollLeft;
        scrollTop = container.scrollTop;
      });

      container.addEventListener('mouseleave', () => {
        isDragging = false;
        container.style.cursor = 'grab';
      });

      container.addEventListener('mouseup', () => {
        isDragging = false;
        container.style.cursor = 'grab';
      });

      container.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - container.offsetLeft;
        const y = e.pageY - container.offsetTop;
        const walkX = (x - startX) * 1.5;
        const walkY = (y - startY) * 1.5;
        container.scrollLeft = scrollLeft - walkX;
        container.scrollTop = scrollTop - walkY;
      });

      // 터치 이벤트 지원
      let touchStartX, touchStartY;

      container.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].pageX - container.offsetLeft;
        touchStartY = e.touches[0].pageY - container.offsetTop;
        scrollLeft = container.scrollLeft;
        scrollTop = container.scrollTop;
      });

      container.addEventListener('touchmove', (e) => {
        e.preventDefault();
        const x = e.touches[0].pageX - container.offsetLeft;
        const y = e.touches[0].pageY - container.offsetTop;
        const walkX = (x - touchStartX) * 1.5;
        const walkY = (y - touchStartY) * 1.5;
        container.scrollLeft = scrollLeft - walkX;
        container.scrollTop = scrollTop - walkY;
      });
    }

    // 네 개의 다이어그램에 대해 드래그 기능 설정
    setupDragFeature('mermaidContainerEviction', 'mermaidDiagramEviction');
    setupDragFeature('mermaidContainerDeposit', 'mermaidDiagramDeposit');
    setupDragFeature('mermaidContainerRedevelopment', 'mermaidDiagramRedevelopment');
    setupDragFeature('mermaidContainerOwnership', 'mermaidDiagramOwnership');

    let currentZoomEviction = window.innerWidth <= 768 ? 1: 1.2;
    let currentZoomDeposit = window.innerWidth <= 768 ? 1: 1.2;
    let currentZoomRedevelopment = window.innerWidth <= 768 ? 1: 1.2;
    let currentZoomOwnership = window.innerWidth <= 768 ? 1: 1.2;

    // 줌 기능
    function zoomDiagram(delta, type) {
      let currentZoom, diagramId;
      
      if (type === 'eviction') {
        currentZoomEviction = Math.max(0.5, Math.min(2, currentZoomEviction + delta));
        currentZoom = currentZoomEviction;
        diagramId = 'mermaidDiagramEviction';
      } else if (type === 'deposit') {
        currentZoomDeposit = Math.max(0.5, Math.min(2, currentZoomDeposit + delta));
        currentZoom = currentZoomDeposit;
        diagramId = 'mermaidDiagramDeposit';
      } else if (type === 'redevelopment') {
        currentZoomRedevelopment = Math.max(0.5, Math.min(2, currentZoomRedevelopment + delta));
        currentZoom = currentZoomRedevelopment;
        diagramId = 'mermaidDiagramRedevelopment';
      } else {
        currentZoomOwnership = Math.max(0.5, Math.min(2, currentZoomOwnership + delta));
        currentZoom = currentZoomOwnership;
        diagramId = 'mermaidDiagramOwnership';
      }
      
      const diagram = document.getElementById(diagramId);
      if (diagram) {
        diagram.style.transform = `scale(${currentZoom})`;
        diagram.style.transformOrigin = 'top left';
        diagram.style.width = `${100 * currentZoom}%`;
        diagram.style.height = `${100 * currentZoom}%`;
      }
    }

    function resetZoom(type) {
      const defaultZoom = 1.2;
      let diagramId;
      
      if (type === 'eviction') {
        currentZoomEviction = defaultZoom;
        diagramId = 'mermaidDiagramEviction';
      } else if (type === 'deposit') {
        currentZoomDeposit = defaultZoom;
        diagramId = 'mermaidDiagramDeposit';
      } else if (type === 'redevelopment') {
        currentZoomRedevelopment = defaultZoom;
        diagramId = 'mermaidDiagramRedevelopment';
      } else {
        currentZoomOwnership = defaultZoom;
        diagramId = 'mermaidDiagramOwnership';
      }
      
      const diagram = document.getElementById(diagramId);
      if (diagram) {
        diagram.style.transform = `scale(${defaultZoom})`;
        diagram.style.transformOrigin = 'top left';
        diagram.style.width = `${100 * defaultZoom}%`;
        diagram.style.height = `${100 * defaultZoom}%`;
      }
    }
  </script>

  <!-- JS -->
  <script>
    // 네비게이션 관련 함수들은 nav.js에서 처리됩니다

    // 스크롤 관련 기능들은 nav.js에서 처리됩니다

    // ===================================
    // 스탯 섹션 관련 기능 (카운터 애니메이션)
    // ===================================

    // 숫자 카운트업 애니메이션 (개선된 버전)
    function animateCounter(element) {
      // 이미 애니메이션이 실행 중이면 중복 실행 방지
      if (element.isAnimating) {
        return;
      }
      element.isAnimating = true;

      const target = parseFloat(element.getAttribute('data-target'));
      const duration = 3000; // 3초로 조금 더 길게
      const start = 0;
      let current = start;
      let startTime = null;

      // requestAnimationFrame을 사용하여 더 부드러운 애니메이션
      function animate(currentTime) {
        if (startTime === null) startTime = currentTime;
        const progress = Math.min((currentTime - startTime) / duration, 1);

        // easeOutQuart 이징 함수 적용
        const easeProgress = 1 - Math.pow(1 - progress, 4);
        current = target * easeProgress;

        if (target % 1 !== 0) {
          element.textContent = current.toLocaleString(undefined, {minimumFractionDigits: 1, maximumFractionDigits: 1});
        } else {
          element.textContent = Math.floor(current).toLocaleString();
        }

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          if (target % 1 !== 0) {
            element.textContent = target.toLocaleString(undefined, {minimumFractionDigits: 1, maximumFractionDigits: 1});
          } else {
            element.textContent = target.toLocaleString();
          }
          element.isAnimating = false;
        }
      }
      requestAnimationFrame(animate);
    }

    // 옵저버 설정 (모바일 최적화)
    const observerOptions = {
      threshold: [0, 0.1, 0.2], // 여러 임계점 설정으로 더 정확한 감지
      rootMargin: '-20px 0px -20px 0px' // 상하 20px 여유 (모바일 친화적)
    };

    // Intersection Observer로 스크롤 시 애니메이션 트리거 (개선된 버전)
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          console.log('스탯 섹션이 화면에 나타남'); // 디버깅용

          const counters = entry.target.querySelectorAll('.counter');
          console.log('찾은 카운터 개수:', counters.length); // 디버깅용

          counters.forEach((counter, index) => {
            if (!counter.classList.contains('animated')) {
              counter.classList.add('animated');

              // 각 카운터를 순차적으로 애니메이션 (0.2초 간격)
              setTimeout(() => {
                animateCounter(counter);
              }, index * 200);
            }
          });

          // 애니메이션이 시작되면 옵저버 해제 (중복 실행 방지)
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function () {
      // 네비게이션 관련 설정은 nav.js에서 처리됩니다

      // 스탯 섹션 관찰 시작
      const statsSection = document.getElementById('stats');
      if (statsSection) {
        observer.observe(statsSection);

        // 모바일에서 Intersection Observer가 작동하지 않을 때를 대비한 fallback
        // 5초 후에 스탯 섹션이 여전히 애니메이션되지 않았다면 강제 실행
        setTimeout(() => {
          const counters = statsSection.querySelectorAll('.counter:not(.animated)');
          if (counters.length > 0) {
            console.log('Fallback: 스탯 애니메이션을 강제 실행합니다');
            counters.forEach((counter, index) => {
              counter.classList.add('animated');
              setTimeout(() => {
                animateCounter(counter);
              }, index * 200);
            });
          }
        }, 5000);
      }

      // 네 개의 다이어그램에 대해 초기 확대 적용
      const diagramEviction = document.getElementById('mermaidDiagramEviction');
      if (diagramEviction) {
        diagramEviction.style.transform = `scale(${currentZoomEviction})`;
        diagramEviction.style.transformOrigin = 'top left';
        diagramEviction.style.width = `${100 * currentZoomEviction}%`;
        diagramEviction.style.height = `${100 * currentZoomEviction}%`;
      }

      const diagramDeposit = document.getElementById('mermaidDiagramDeposit');
      if (diagramDeposit) {
        diagramDeposit.style.transform = `scale(${currentZoomDeposit})`;
        diagramDeposit.style.transformOrigin = 'top left';
        diagramDeposit.style.width = `${100 * currentZoomDeposit}%`;
        diagramDeposit.style.height = `${100 * currentZoomDeposit}%`;
      }

      const diagramRedevelopment = document.getElementById('mermaidDiagramRedevelopment');
      if (diagramRedevelopment) {
        diagramRedevelopment.style.transform = `scale(${currentZoomRedevelopment})`;
        diagramRedevelopment.style.transformOrigin = 'top left';
        diagramRedevelopment.style.width = `${100 * currentZoomRedevelopment}%`;
        diagramRedevelopment.style.height = `${100 * currentZoomRedevelopment}%`;
      }

      const diagramOwnership = document.getElementById('mermaidDiagramOwnership');
      if (diagramOwnership) {
        diagramOwnership.style.transform = `scale(${currentZoomOwnership})`;
        diagramOwnership.style.transformOrigin = 'top left';
        diagramOwnership.style.width = `${100 * currentZoomOwnership}%`;
        diagramOwnership.style.height = `${100 * currentZoomOwnership}%`;
      }

      // 오버레이 터치/클릭/스크롤 시 사라지게 - 각 다이어그램에 대해 설정
      function setupOverlay(overlayId, containerId) {
        const overlay = document.getElementById(overlayId);
        if (overlay) {
          const hideOverlay = () => {
            overlay.classList.add('hide');
            setTimeout(() => { overlay.style.display = 'none'; }, 500);
          };
          // 터치, 클릭, 스크롤 모두 감지
          overlay.addEventListener('touchstart', hideOverlay, { once: true });
          overlay.addEventListener('click', hideOverlay, { once: true });
          overlay.addEventListener('wheel', hideOverlay, { once: true });
          // 다이어그램 컨테이너 스크롤도 감지
          const mermaidContainer = document.getElementById(containerId);
          if (mermaidContainer) {
            mermaidContainer.addEventListener('scroll', hideOverlay, { once: true });
          }
        }
      }

      setupOverlay('mermaidOverlayEviction', 'mermaidContainerEviction');
      setupOverlay('mermaidOverlayDeposit', 'mermaidContainerDeposit');
      setupOverlay('mermaidOverlayRedevelopment', 'mermaidContainerRedevelopment');
      setupOverlay('mermaidOverlayOwnership', 'mermaidContainerOwnership');
    });

    // Alpine.js x-show 전환시 Mermaid 재렌더링을 위한 이벤트 리스너
    document.addEventListener('alpine:init', () => {
      Alpine.data('processTab', () => ({
        activeProcessTab: 'eviction',
        init() {
          // Alpine 컴포넌트 초기화 시점에 첫 렌더링을 수행합니다.
          // setTimeout을 사용해 Alpine이 DOM을 업데이트할 시간을 확보합니다.
          this.$nextTick(() => {
            setTimeout(() => {
              renderMermaidDiagrams('eviction');
            }, 100);
          });

          // activeProcessTab 값이 변경될 때마다 해당 탭의 다이어그램을 렌더링합니다.
          this.$watch('activeProcessTab', (newTab) => {
            this.$nextTick(() => {
              setTimeout(() => {
                renderMermaidDiagrams(newTab);
              }, 100);
            });
          });
        }
      }));
    });

    // ===================================
    // 스탯 섹션 관련 기능 (카운터 애니메이션)
    // ===================================

    // 메가메뉴 및 모바일 아코디언 제어는 nav.js에서 처리됩니다
  </script>
</body>

</html>
