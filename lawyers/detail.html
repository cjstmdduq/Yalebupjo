<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>변호사 프로필 - 법무법인(유한) 예일법조</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }

        /* 네비게이션 바 스타일 */
        .header-scrolled {
            background: white;
            border-bottom: 1px solid #f3f4f6;
            transition: all 0.3s ease;
        }

        /* 애니메이션 */
        @keyframes fade-in-up {
            0% {
                opacity: 0;
                transform: translateY(40px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fade-in-up 0.8s ease-out both;
        }

        /* 전문분야 태그 */
        .expertise-tag {
            background: linear-gradient(135deg, #1f2937, #374151);
            color: white;
            padding: 8px 20px;
            border-radius: 9999px;
            font-size: 14px;
            font-weight: 500;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .expertise-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* 연락처 버튼 */
        .contact-btn {
            transition: all 0.3s ease;
        }

        .contact-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* 섹션 타이틀 */
        .section-title {
            position: relative;
            padding-bottom: 12px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(135deg, #1f2937, #374151);
            border-radius: 2px;
        }

        /* 로딩 스피너 */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loading-spinner {
            animation: spin 1s linear infinite;
        }

        /* 이미지 그라디언트 오버레이 */
        .image-overlay {
            background: linear-gradient(to bottom, transparent 0%, transparent 60%, rgba(0,0,0,0.7) 100%);
        }
    </style>
    <!-- Navigation and Footer Modules -->
    <script src="../assets/js/nav.js"></script>
    <script src="../assets/js/footer.js"></script>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- 네비게이션 (nav.js에 의해 삽입) -->

    <!-- 로딩 화면 -->
    <div id="loading-screen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="loading-spinner inline-block h-12 w-12 border-4 border-t-4 border-gray-200 border-t-blue-600 rounded-full"></div>
            <p class="mt-4 text-gray-600">변호사 정보를 불러오는 중...</p>
        </div>
    </div>

    <!-- 메인 컨텐츠 -->
    <main id="main-content" class="hidden">
        <!-- 프로필 헤더 섹션 -->
        <section class="relative bg-gradient-to-b from-gray-900 to-gray-800 text-white">
            <div class="container mx-auto px-6 md:px-12 py-20">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">
                    <!-- 사진 영역 -->
                    <div class="lg:col-span-4">
                        <div class="relative mx-auto lg:mx-0 w-64 h-80 lg:w-80 lg:h-96 rounded-2xl overflow-hidden shadow-2xl" data-aos="fade-right">
                            <img id="lawyer-photo" src="" alt="" class="w-full h-full object-cover">
                            <div class="absolute inset-0 image-overlay"></div>
                        </div>
                    </div>
                    
                    <!-- 정보 영역 -->
                    <div class="lg:col-span-8 text-center lg:text-left">
                        <p id="lawyer-title" class="text-xl text-gray-300 mb-2" data-aos="fade-up" data-aos-delay="100"></p>
                        <h1 id="lawyer-name" class="text-5xl lg:text-6xl font-bold mb-4" data-aos="fade-up" data-aos-delay="200"></h1>
                        <p id="lawyer-office" class="text-lg text-gray-300 mb-6" data-aos="fade-up" data-aos-delay="300"></p>
                        
                        <!-- 전문분야 태그 -->
                        <div id="specialties-container" class="flex flex-wrap gap-3 mb-8 justify-center lg:justify-start" data-aos="fade-up" data-aos-delay="400">
                            <!-- 전문분야 태그가 동적으로 삽입됩니다 -->
                        </div>
                        
                        <!-- 연락처 버튼 -->
                        <div class="flex flex-wrap gap-4 justify-center lg:justify-start" data-aos="fade-up" data-aos-delay="500">
                            <a id="email-btn" href="" class="contact-btn bg-white text-gray-900 px-6 py-3 rounded-full font-medium hover:bg-gray-100 flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <span id="email-text"></span>
                            </a>
                            <a id="phone-btn" href="" class="contact-btn bg-transparent border-2 border-white text-white px-6 py-3 rounded-full font-medium hover:bg-white hover:text-gray-900 flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                </svg>
                                <span id="phone-text"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 상세 정보 섹션 -->
        <section class="py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-6 md:px-12">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                    <!-- 학력 -->
                    <div id="education-section" class="hidden" data-aos="fade-up">
                        <h2 class="section-title text-2xl font-bold text-gray-900 mb-6">학력</h2>
                        <ul id="education-list" class="space-y-3 text-gray-600">
                            <!-- 학력 정보가 동적으로 삽입됩니다 -->
                        </ul>
                    </div>

                    <!-- 경력 -->
                    <div id="career-section" class="hidden lg:col-span-2" data-aos="fade-up" data-aos-delay="100">
                        <h2 class="section-title text-2xl font-bold text-gray-900 mb-6">주요 경력</h2>
                        <ul id="career-list" class="space-y-3 text-gray-600">
                            <!-- 경력 정보가 동적으로 삽입됩니다 -->
                        </ul>
                    </div>
                </div>

                <!-- 전문 분야 -->
                <div id="expertise-section" class="hidden mt-12" data-aos="fade-up" data-aos-delay="200">
                    <h2 class="section-title text-2xl font-bold text-gray-900 mb-6">전문 분야</h2>
                    <div id="expertise-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        <!-- 전문 분야가 동적으로 삽입됩니다 -->
                    </div>
                </div>

                <!-- 주요 사건 -->
                <div id="cases-section" class="hidden mt-12" data-aos="fade-up" data-aos-delay="300">
                    <h2 class="section-title text-2xl font-bold text-gray-900 mb-6">주요 성공 사례</h2>
                    <div id="cases-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- 주요 사건이 동적으로 삽입됩니다 -->
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA 섹션 -->
        <section class="py-16 bg-gradient-to-r from-gray-900 to-gray-800 text-white">
            <div class="container mx-auto px-6 md:px-12 text-center">
                <h2 class="text-3xl lg:text-4xl font-bold mb-4" data-aos="fade-up">법률 상담이 필요하신가요?</h2>
                <p class="text-lg text-gray-300 mb-8" data-aos="fade-up" data-aos-delay="100">
                    전문 변호사가 신속하고 정확한 법률 서비스를 제공합니다.
                </p>
                <div class="flex flex-wrap gap-4 justify-center" data-aos="fade-up" data-aos-delay="200">
                    <a href="../contact/" class="bg-white text-gray-900 px-8 py-4 rounded-full font-medium hover:bg-gray-100 transition-all hover:scale-105">
                        상담 신청하기
                    </a>
                    <a href="../lawyers/" class="bg-transparent border-2 border-white px-8 py-4 rounded-full font-medium hover:bg-white hover:text-gray-900 transition-all">
                        구성원 목록 보기
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- 푸터 (footer.js에 의해 삽입) -->

    <!-- JavaScript -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            // URL 파라미터에서 변호사 ID 가져오기
            const urlParams = new URLSearchParams(window.location.search);
            const lawyerId = urlParams.get('id');
            
            if (!lawyerId) {
                window.location.href = 'index.html';
                return;
            }

            try {
                // 변호사 데이터 로드
                const lawyersResponse = await fetch('../data/lawyers.json');
                const lawyers = await lawyersResponse.json();
                const lawyer = lawyers.find(l => l.id === lawyerId);
                
                if (!lawyer) {
                    window.location.href = 'index.html';
                    return;
                }

                // 성공 사례 데이터 로드 (옵션)
                let cases = [];
                if (lawyer.cases && lawyer.cases.length > 0) {
                    try {
                        const casesResponse = await fetch('../data/cases.json');
                        const allCases = await casesResponse.json();
                        cases = lawyer.cases.map(caseId => allCases.find(c => c.id === caseId)).filter(Boolean);
                    } catch (error) {
                        console.log('성공 사례 데이터를 불러올 수 없습니다.');
                    }
                }

                // 페이지 제목 설정
                document.title = `${lawyer.name} ${lawyer.title} - 법무법인(유한) 예일법조`;

                // 기본 정보 표시
                document.getElementById('lawyer-photo').src = lawyer.photo;
                document.getElementById('lawyer-photo').alt = lawyer.name;
                document.getElementById('lawyer-name').textContent = lawyer.name;
                document.getElementById('lawyer-title').textContent = lawyer.title;
                document.getElementById('lawyer-office').textContent = lawyer.office;

                // 전문분야 태그
                const specialtiesContainer = document.getElementById('specialties-container');
                if (lawyer.specialties && lawyer.specialties.length > 0) {
                    lawyer.specialties.forEach(specialty => {
                        specialtiesContainer.innerHTML += `<span class="expertise-tag">${specialty}</span>`;
                    });
                }

                // 연락처
                if (lawyer.email) {
                    document.getElementById('email-btn').href = `mailto:${lawyer.email}`;
                    document.getElementById('email-text').textContent = lawyer.email;
                } else {
                    document.getElementById('email-btn').style.display = 'none';
                }

                if (lawyer.phone) {
                    document.getElementById('phone-btn').href = `tel:${lawyer.phone}`;
                    document.getElementById('phone-text').textContent = lawyer.phone;
                } else {
                    document.getElementById('phone-btn').style.display = 'none';
                }

                // 학력
                if (lawyer.education && lawyer.education.length > 0) {
                    document.getElementById('education-section').classList.remove('hidden');
                    const educationList = document.getElementById('education-list');
                    lawyer.education.forEach(edu => {
                        educationList.innerHTML += `
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span>${edu}</span>
                            </li>
                        `;
                    });
                }

                // 경력
                if (lawyer.career && lawyer.career.length > 0) {
                    document.getElementById('career-section').classList.remove('hidden');
                    const careerList = document.getElementById('career-list');
                    lawyer.career.forEach(career => {
                        const isPresent = career.includes('현)');
                        careerList.innerHTML += `
                            <li class="flex items-start">
                                <svg class="w-5 h-5 ${isPresent ? 'text-green-600' : 'text-gray-400'} mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="${isPresent ? 'font-medium text-gray-900' : ''}">${career}</span>
                            </li>
                        `;
                    });
                }

                // 전문 분야
                if (lawyer.expertise && lawyer.expertise.length > 0) {
                    document.getElementById('expertise-section').classList.remove('hidden');
                    const expertiseGrid = document.getElementById('expertise-grid');
                    lawyer.expertise.forEach(exp => {
                        expertiseGrid.innerHTML += `
                            <div class="bg-gray-100 rounded-lg p-4 text-center hover:bg-gray-200 transition-colors">
                                <p class="font-medium text-gray-900">${exp}</p>
                            </div>
                        `;
                    });
                }

                // 주요 사건
                if (cases.length > 0) {
                    document.getElementById('cases-section').classList.remove('hidden');
                    const casesGrid = document.getElementById('cases-grid');
                    cases.forEach(caseItem => {
                        casesGrid.innerHTML += `
                            <a href="../cases/detail.html?id=${caseItem.id}" class="block bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-all hover:-translate-y-1">
                                <h3 class="font-bold text-gray-900 mb-2">${caseItem.title}</h3>
                                <p class="text-gray-600 text-sm mb-3">${caseItem.summary}</p>
                                <div class="flex items-center text-blue-600 text-sm font-medium">
                                    <span>자세히 보기</span>
                                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </div>
                            </a>
                        `;
                    });
                }

                // 로딩 화면 숨기고 메인 컨텐츠 표시
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('main-content').classList.remove('hidden');

                // AOS 초기화
                AOS.init({ duration: 800, once: true });

            } catch (error) {
                console.error('데이터 로드 실패:', error);
                window.location.href = 'index.html';
            }
        });
    </script>

</body>
</html>