<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>민사 전문 분야 - 법무법인(유한) 예일법조</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <style>
    body {
      font-family: 'Pretendard', sans-serif;
    }

    /* 메가메뉴 스타일 */
    .mega-menu {
      position: absolute;
      left: 0;
      right: 0;
      top: 100%;
      background: white;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      border-top: 1px solid #e5e7eb;
    }

    .mega-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }

    /* 모바일에서 메가메뉴 숨기기 */
    @media (max-width: 768px) {
      .mega-menu {
        display: none;
      }
    }

    .hero-video {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .header-transparent {
      background: transparent;
      border-bottom: none;
    }

    .header-scrolled {
      background: #fff;
      border-bottom: 1px solid #f3f4f6;
      transition: all 0.3s ease;
    }

    /* 메가메뉴 열렸을 때 헤더 스타일 */
    .header-transparent.mega-menu-open {
      background: white;
      border-bottom: 1px solid #f3f4f6;
    }

    .header-transparent.mega-menu-open a {
      color: #111827 !important;
    }

    /* 모바일 메뉴 아코디언 스타일 */
    .mobile-accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .mobile-accordion-content.active {
      max-height: 300px;
      overflow-y: auto;
    }

    .mobile-accordion-arrow {
      transition: transform 0.3s ease;
    }

    .mobile-accordion-arrow.rotate {
      transform: rotate(180deg);
    }

    .floating-buttons {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      transform: translateY(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 1000;
      padding: 12px 0;
    }

    .floating-buttons.show {
      transform: translateY(0);
    }
    
    /* 머메이드 모바일 오버레이 */
    .mermaid-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
      text-align: center;
      font-size: 1.1rem;
      font-weight: 400;
      color: #fff;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 0 10px;
      border-radius: 8px;
      pointer-events: auto;
      transition: opacity 0.5s;
      opacity: 1;
    }
    .mermaid-overlay.hide {
      opacity: 0;
      transition: opacity 0.5s;
    }
    @media (max-width: 768px) {
      .mermaid-overlay {
        display: flex;
      }
    }
  </style>
    
    <!-- Navigation and Footer Modules (Assuming these files exist) -->
    <script src="../assets/js/nav.js"></script>
    <script src="../assets/js/floating-banner.js"></script>
    <script src="../assets/js/breadcrumb.js"></script>
    <script src="../assets/js/footer.js"></script>
</head>


<body class="bg-white text-black">
  <!-- SERVICES -->
  <section id="services" class="py-24 lg:py-32 bg-white" x-data="{ activeTab: 'real-estate' }">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
      <div class="text-center mb-16 sm:mb-20">
        <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">OUR EXPERTISE</span>
        <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
          민사 법률 서비스
        </h2>
        <p class="text-lg text-[#22304a] max-w-2xl mx-auto">
          민사 전문 변호사는 의뢰인의 상황을 가장 유리한 방향으로 이끌어갈 전략을 제시합니다.
        </p>
      </div>

      <!-- 탭 버튼 -->
      <div class="flex flex-wrap justify-center gap-4 mb-16">
        <button @click="activeTab = 'real-estate'"
          :class="activeTab === 'real-estate' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          부동산/건설
        </button>
        <button @click="activeTab = 'damages'"
          :class="activeTab === 'damages' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          손해배상/보험
        </button>
        <button @click="activeTab = 'contracts'"
          :class="activeTab === 'contracts' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          계약/상거래
        </button>
        <button @click="activeTab = 'family-law'"
          :class="activeTab === 'family-law' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          가사/상속
        </button>
        <button @click="activeTab = 'ip'"
          :class="activeTab === 'ip' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          지식재산권
        </button>
        <button @click="activeTab = 'admin-tax'"
          :class="activeTab === 'admin-tax' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          행정/조세
        </button>
      </div>

      <!-- 탭 콘텐츠 -->
      <div class="space-y-12">
        <!-- 부동산/건설 -->
        <div x-show="activeTab === 'real-estate'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">부동산/건설</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 명도소송, 건물인도, 퇴거청구</li>
                <li>• 임대차보증금 반환, 권리금 분쟁</li>
                <li>• 공사대금, 하자보수, 추가공사비</li>
                <li>• 소유권이전등기, 등기말소</li>
                <li>• 재개발·재건축, 지역주택조합 분쟁</li>
                <li>• 사해행위취소, 공유물분할</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>자산 보호:</strong> 소송 전 가압류·가처분 등 보전처분을 통해 상대방의 재산 처분을 막고 승소 후의 실익을 확보합니다.
              </p>
              <p class="text-[#22304a]">
                <strong>분쟁 해결:</strong> 복잡한 권리관계를 명확히 분석하고, 감정 절차 및 증거 확보를 통해 의뢰인의 재산권을 지켜냅니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 부동산 분쟁 412건, 보전처분 인용률 93%, 명도소송 평균 처리기간 4.5개월
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- 손해배상/보험 -->
        <div x-show="activeTab === 'damages'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">손해배상/보험</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 교통사고 손해배상 (위자료, 휴업손해)</li>
                <li>• 의료사고 (의료과실 입증, 손해액 산정)</li>
                <li>• 산업재해 손해배상, 근재보험</li>
                <li>• 보험금 청구, 보험사 상대 소송</li>
                <li>• 학교폭력, 명예훼손 등 불법행위</li>
                <li>• 제조물책임, 시설물하자</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>손해액 극대화:</strong> 신체감정, 사실조회 등 전문적인 입증 절차를 통해 정당한 손해배상액을 모두 인정받도록 조력합니다.
              </p>
              <p class="text-[#22304a]">
                <strong>과실 다툼:</strong> 보험사의 부당한 과실상계 주장에 대응하고, 블랙박스 영상 분석, 사고 재구성 등을 통해 과실비율을 바로잡습니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 손해배상 288건, 보험사 제시액 대비 평균 2.8배 증액, 의료소송 승소율 41%
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 계약/상거래 -->
        <div x-show="activeTab === 'contracts'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">계약/상거래</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 대여금, 물품대금, 용역대금 청구</li>
                <li>• 계약해제·해지, 계약불이행</li>
                <li>• 투자금 반환, 약정금 청구</li>
                <li>• 프랜차이즈, 대리점 계약 분쟁</li>
                <li>• M&A, 기업 법률 자문</li>
                <li>• 전자상거래, IT 관련 분쟁</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>채권 회수:</strong> 지급명령, 소액사건심판 등 신속한 절차를 활용하고, 채무자 재산조사를 통해 강제집행의 실효성을 높입니다.
              </p>
              <p class="text-[#22304a]">
                <strong>위험 관리:</strong> 계약서 검토 및 법률 자문을 통해 잠재적 분쟁 요소를 사전에 차단하고 안정적인 사업 운영을 지원합니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 상사채권 670건, 채권 회수 성공률 88%, 계약서 검토 1,200건 이상
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- 가사/상속 -->
        <div x-show="activeTab === 'family-law'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">가사/상속</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 재판상 이혼, 재산분할, 위자료</li>
                <li>• 양육권, 양육비, 면접교섭권</li>
                <li>• 상속재산분할, 유류분 반환 청구</li>
                <li>• 상속포기, 한정승인, 기여분</li>
                <li>• 성년후견, 친생자관계 확인</li>
                <li>• 유언장 작성 및 효력 검증</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>재산분할 전략:</strong> 숨겨진 재산을 찾아내고, 기여도를 적극 입증하여 의뢰인의 재산권을 최대한 보장합니다.
              </p>
              <p class="text-[#22304a]">
                <strong>상속 분쟁 조정:</strong> 상속인 간의 감정적 대립을 중재하고, 법리적 분석을 통해 공평하고 원만한 재산 분배를 이끌어냅니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 이혼/상속 195건, 재산분할 1심 결과 불복률 15% 미만, 유류분 청구 평균 인용액 1.8억원
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 지식재산권 -->
        <div x-show="activeTab === 'ip'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">지식재산권</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 저작권 침해 금지 및 손해배상</li>
                <li>• 특허, 상표, 디자인권 침해 소송</li>
                <li>• 직무발명보상금 청구</li>
                <li>• 영업비밀 침해, 부정경쟁행위</li>
                <li>• 퍼블리시티권, 초상권 침해</li>
                <li>• IT/기술 라이선스 계약 자문</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>권리 보호:</strong> 침해 경고장 발송, 가처분 신청 등 신속한 조치로 추가적인 피해 확산을 막고 권리를 보호합니다.
              </p>
              <p class="text-[#22304a]">
                <strong>가치 평가:</strong> 기술 및 콘텐츠의 가치를 정확히 평가하여 손해배상액을 산정하고, 기술이전 및 라이선스 협상을 유리하게 이끕니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 IP 분쟁 98건, 침해금지 가처분 인용률 85%, 손해배상액 평균 인정률 75%
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 행정/조세 -->
        <div x-show="activeTab === 'admin-tax'" x-transition class="border-t-4 border-[#22304a] pt-8">
          <h3 class="text-3xl font-bold text-[#111827] mb-8">행정/조세</h3>
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">주요 취급 분야</h4>
              <ul class="space-y-2 text-[#22304a]">
                <li>• 영업정지·취소 처분 취소소송</li>
                <li>• 과징금, 이행강제금 부과처분 취소</li>
                <li>• 정보공개거부처분 취소소송</li>
                <li>• 각종 인허가 거부처분 취소</li>
                <li>• 양도소득세, 상속세, 증여세 불복</li>
                <li>• 법인세, 부가가치세 등 조세심판</li>
              </ul>
            </div>
            <div>
              <h4 class="text-xl font-semibold mb-4 text-[#22304a]">전문 서비스</h4>
              <p class="text-[#22304a] mb-4">
                <strong>처분 대응:</strong> 행정청의 재량권 남용, 절차상 하자 등 위법성을 주장하여 부당한 행정처분을 취소시킵니다.
              </p>
              <p class="text-[#22304a]">
                <strong>조세 불복:</strong> 과세전적부심사, 이의신청, 조세심판, 행정소송까지 단계별 최적의 전략으로 부당한 세금을 바로잡습니다.
              </p>
              <div class="mt-4 p-4 bg-[#f3f4f6] rounded-lg">
                <p class="text-sm text-[#22304a]">
                  <strong>성과:</strong> 2024년 행정처분 취소율 62%, 조세불복 인용액 150억원, 집행정지 인용률 91%
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>


  <!-- PROCESS -->
  <section id="process" class="py-24 bg-gray-50 lg:py-32 scroll-mt-24" x-data="processTab">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <!-- 섹션 헤더 -->
      <div class="text-center mb-16 sm:mb-20">
        <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">PROCESS</span>
        <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
          민사소송 프로세스
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          디테일한 절차를 한눈에 살펴보세요.
        </p>
      </div>

      <!-- 탭 버튼 -->
      <div class="flex justify-center gap-4 mb-8">
        <button @click="activeProcessTab = 'plaintiff'"
          :class="activeProcessTab === 'plaintiff' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          원고 입장
        </button>
        <button @click="activeProcessTab = 'defendant'"
          :class="activeProcessTab === 'defendant' ? 'bg-[#22304a] text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
          class="px-6 py-3 rounded-full font-medium transition-all duration-300">
          피고 입장
        </button>
      </div>

      <!-- Mermaid 다이어그램 - 원고 입장 -->
      <div x-show="activeProcessTab === 'plaintiff'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayPlaintiff" class="mermaid-overlay">
           원고 입장 소송 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'plaintiff')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'plaintiff')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('plaintiff')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerPlaintiff" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramPlaintiff" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

            flowchart TB
            Start([민사 분쟁 발생]) --> PlaintiffConsult[원고 변호사 상담<br>- 사실관계 파악<br>- 증거자료 검토]

            PlaintiffConsult --> PreservationDecision{보전처분 필요성}
            PreservationDecision -->|필요| PreservationProc[보전처분 신청<br>- 가압류: 금전채권<br>- 가처분: 권리관계]
            PreservationDecision -->|불필요| Strategy

            PreservationProc --> PreservationHearing[보전처분 심문기일<br>- 피보전권리 소명<br>- 보전의 필요성 소명]
            PreservationHearing --> PreservationResult{보전처분 결정}
            PreservationResult -->|인용| PreservationExec[보전처분 집행<br>- 담보 제공<br>- 집행 실시]
            PreservationResult -->|기각| Strategy

            PreservationExec --> Strategy[소송 전략 수립<br>- 청구원인 특정<br>- 청구취지 작성<br>- 입증계획 수립]
            
            Strategy --> FileSuit[소장 작성 및 제출<br>- 관할법원 확인<br>- 인지/송달료 납부]
            
            FileSuit --> CourtReview[법원 소장 심사<br>- 보정명령 대응<br>- 부본 송달]
            
            CourtReview --> FirstHearing[1차 변론기일<br>- 쟁점 정리<br>- 입증계획 인부]
            
            FirstHearing --> EvidenceSubmit[증거 제출<br>- 서증 제출<br>- 증인/감정 신청<br>- 사실조회 신청]
            
            EvidenceSubmit --> Pleadings[준비서면 제출<br>- 상대방 주장 반박<br>- 추가 주장/증거]
            
            Pleadings --> SubsequentHearings[후속 변론기일<br>- 증인신문<br>- 당사자신문<br>- 감정결과 현출]
            
            SubsequentHearings --> SettlementAttempt{조정/화해 시도}
            SettlementAttempt -->|성립| SettlementComplete[조정/화해 성립<br>- 조서 작성<br>- 강제집행력 확보]
            SettlementAttempt -->|불성립| FinalArguments
            
            FinalArguments[최종 변론<br>- 최종준비서면<br>- 변론종결]
            
            FinalArguments --> Judgment[1심 판결 선고]
            
            Judgment --> JudgmentAnalysis[판결문 분석<br>- 주문 검토<br>- 이유 검토<br>- 항소 필요성 판단]
            
            JudgmentAnalysis --> AppealDecision{항소 결정}
            AppealDecision -->|항소| Appeal[항소장 제출<br>- 2주 이내<br>- 항소이유서 준비]
            AppealDecision -->|수용| FinalizeJudgment
            
            Appeal --> AppealProc[항소심 진행<br>- 항소이유서 제출<br>- 새로운 증거 제출<br>- 항소심 변론]
            
            AppealProc --> AppealJudgment[항소심 판결]
            
            AppealJudgment --> SupremeDecision{상고 검토}
            SupremeDecision -->|상고| SupremeCourt[상고심<br>- 법률심<br>- 상고이유서]
            SupremeDecision -->|포기| FinalizeJudgment
            
            SupremeCourt --> FinalJudgment[최종 판결]
            FinalJudgment --> FinalizeJudgment
            
            FinalizeJudgment[판결 확정] --> ExecutionPrep[강제집행 준비<br>- 집행문 부여<br>- 송달증명원]
            
            ExecutionPrep --> ExecutionProc[강제집행 실시<br>- 부동산/동산 경매<br>- 채권 압류/추심<br>- 유체동산 인도]
            
            ExecutionProc --> ExecutionComplete[집행 완료<br>- 배당 수령<br>- 권리 실현]
            
            ExecutionComplete --> End([사건 종결])
            
            SettlementComplete --> End

            classDef lawyerAction fill:#2c5aa0,stroke:#1a3a52,color:#fff,stroke-width:2px
            classDef courtProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
            classDef clientStatus fill:#ff6b6b,stroke:#c92a2a,color:#fff,stroke-width:2px
            classDef decision fill:#ffd43b,stroke:#fab005,color:#000,stroke-width:2px
            classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
            
            class PlaintiffConsult,Strategy,FileSuit,EvidenceSubmit,Pleadings,FinalArguments,JudgmentAnalysis,Appeal,AppealProc,ExecutionPrep,ExecutionProc lawyerAction
            class CourtReview,FirstHearing,SubsequentHearings,Judgment,AppealJudgment,FinalJudgment,FinalizeJudgment courtProcess
            class PreservationProc,PreservationHearing,PreservationExec,SettlementComplete,ExecutionComplete clientStatus
            class PreservationDecision,PreservationResult,SettlementAttempt,AppealDecision,SupremeDecision decision
            class End endNode

          </div>
        </div>
      </div>

      <!-- Mermaid 다이어그램 - 피고 입장 -->
      <div x-show="activeProcessTab === 'defendant'" x-transition class="mx-auto relative"
        style="padding:0; background:transparent; box-shadow:none; border:none; border-radius:0;">
        <div id="mermaidOverlayDefendant" class="mermaid-overlay">
           피고 입장 소송 절차를 <br>미리 확인해보세요.<br>(확대,축소 등 터치로 화면을 조작할 수 있어요.)
         </div>
        <!-- 줌 컨트롤 -->
        <div class="absolute top-4 right-4 flex gap-2 z-10">
          <button onclick="zoomDiagram(0.1, 'defendant')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
              </path>
            </svg>
          </button>
          <button onclick="zoomDiagram(-0.1, 'defendant')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
            </svg>
          </button>
          <button onclick="resetZoom('defendant')"
            class="w-10 h-10 flex items-center justify-center text-gray-600 transition-colors"
            style="background:transparent; border:none; border-radius:0;">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
              </path>
            </svg>
          </button>
        </div>

        <div id="mermaidContainerDefendant" class="overflow-auto" style="height: 60vh; cursor: grab; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <div id="mermaidDiagramDefendant" class="mermaid transition-transform duration-300"
          style="transform: scale(1); transform-origin: center center;">

          flowchart TB
          Start([소장 부본 수령]) --> ReceiveNotice[소장 검토<br>- 청구취지 확인<br>- 청구원인 파악<br>- 변론기일 확인]
      
          ReceiveNotice --> DefendantConsult[피고 변호사 상담<br>- 사실관계 확인<br>- 반박 증거 수집<br>- 방어 전략 수립]
      
          DefendantConsult --> PreservationCheck{보전처분 여부}
          PreservationCheck -->|있음| PreservationResponse[보전처분 대응<br>- 이의신청<br>- 취소신청<br>- 담보취소신청]
          PreservationCheck -->|없음| AnswerStrategy
      
          PreservationResponse --> AnswerStrategy[답변서 작성 전략<br>- 본안 전 항변<br>- 청구원인 부인<br>- 적극적 항변]
      
          AnswerStrategy --> FileAnswer[답변서 제출<br>- 30일 이내<br>- 관할 이송 신청<br>- 반소 제기 검토]
      
          FileAnswer --> FirstDefenseHearing[1차 변론기일<br>- 쟁점 정리<br>- 원고 주장 다툼]
      
          FirstDefenseHearing --> DefenseEvidence[방어 증거 제출<br>- 반박 서증<br>- 증인 신청<br>- 감정 신청]
      
          DefenseEvidence --> DefensePleadings[피고 준비서면<br>- 원고 증거 탄핵<br>- 추가 항변 제시]
      
          DefensePleadings --> DefenseHearings[변론기일 대응<br>- 증인 반대신문<br>- 당사자신문 대비<br>- 감정결과 다툼]
      
          DefenseHearings --> SettlementNegotiation{조정/화해 협상}
          SettlementNegotiation -->|합의| SettlementDone[조정/화해 성립<br>- 조건 협상<br>- 이행 계획]
          SettlementNegotiation -->|결렬| DefenseFinalArgument
      
          DefenseFinalArgument[최종 변론<br>- 최종준비서면<br>- 기각/각하 주장]
      
          DefenseFinalArgument --> DefenseJudgment[1심 판결 선고]
      
          DefenseJudgment --> DefenseAnalysis[판결 분석<br>- 패소 범위 확인<br>- 항소 이익 검토]
      
          DefenseAnalysis --> DefenseAppealDecision{항소 여부}
          DefenseAppealDecision -->|항소| DefenseAppeal[항소장 제출<br>- 항소이유 정리<br>- 새로운 방어방법]
          DefenseAppealDecision -->|수용| CompliancePrep
      
          DefenseAppeal --> DefenseAppealProc[항소심 방어<br>- 항소이유 반박<br>- 부대항소 검토]
      
          DefenseAppealProc --> DefenseAppealJudgment[항소심 판결]
      
          DefenseAppealJudgment --> DefenseSupremeDecision{상고 검토}
          DefenseSupremeDecision -->|상고| DefenseSupremeCourt[상고심 대응<br>- 법리 다툼<br>- 파기환송 목표]
          DefenseSupremeDecision -->|포기| CompliancePrep
      
          DefenseSupremeCourt --> DefenseFinalJudgment[최종 판결]
          DefenseFinalJudgment --> CompliancePrep
      
          CompliancePrep[판결 이행 준비] --> ComplianceChoice{이행 방법}
          ComplianceChoice -->|임의이행| VoluntaryCompliance[자발적 이행<br>- 분할 납부 협의<br>- 이행 완료]
          ComplianceChoice -->|강제집행| ExecutionDefense[집행 방어<br>- 청구이의<br>- 제3자이의<br>- 집행정지신청]
      
          VoluntaryCompliance --> DefenseEnd([사건 종결])
          ExecutionDefense --> ForcedExecution[강제집행 수인<br>- 재산 처분<br>- 배당 절차]
          ForcedExecution --> DefenseEnd
      
          SettlementDone --> DefenseEnd
      
          classDef lawyerAction fill:#9775fa,stroke:#7048e8,color:#fff,stroke-width:2px
          classDef courtProcess fill:#4dabf7,stroke:#1971c2,color:#fff,stroke-width:2px
          classDef defenseStatus fill:#ff8787,stroke:#fa5252,color:#fff,stroke-width:2px
          classDef decision fill:#fcc419,stroke:#f59f00,color:#000,stroke-width:2px
          classDef endNode fill:#51cf66,stroke:#2f9e44,color:#fff,stroke-width:2px
          
          class DefendantConsult,AnswerStrategy,FileAnswer,DefenseEvidence,DefensePleadings,DefenseFinalArgument,DefenseAnalysis,DefenseAppeal,DefenseAppealProc,ExecutionDefense lawyerAction
          class FirstDefenseHearing,DefenseHearings,DefenseJudgment,DefenseAppealJudgment,DefenseFinalJudgment,CompliancePrep courtProcess
          class ReceiveNotice,PreservationResponse,SettlementDone,VoluntaryCompliance,ForcedExecution defenseStatus
          class PreservationCheck,SettlementNegotiation,DefenseAppealDecision,DefenseSupremeDecision,ComplianceChoice decision
          class DefenseEnd endNode

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-24 lg:py-32 bg-white scroll-mt-24">
    <div class="text-center mb-16 sm:mb-20">
      <span class="text-[#22304a] font-medium text-sm mb-4 block tracking-wider">FAQ</span>
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-[#111827]">
        자주 묻는 질문
      </h2>
      <p class="text-lg text-[#22304a] max-w-2xl mx-auto">
        민사소송 의뢰 전 꼭 확인하세요.
      </p>
    </div>

    <div class="max-w-4xl mx-auto divide-y divide-gray-200 px-4">
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 변호사 선임 없이 '나홀로 소송'도 가능할까요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          네, 가능합니다. 하지만 소송 절차는 매우 복잡하고 법리적 쟁점을 정확히 주장하고 입증해야 하므로, 전문가의 도움 없이 진행하면 불리한 결과를 얻을 수 있습니다. 특히 소송가액이 크거나 사실관계가 복잡하다면 변호사 선임을 적극 권장합니다.
        </p>
      </details>

      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 변호사 선임 비용은 어떻게 되나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          비용은 크게 착수금과 성공보수로 나뉩니다. 착수금은 소송의 난이도, 소송가액 등을 고려하여 책정되며, 성공보수는 승소 시 받게 되는 경제적 이익의 일정 비율로 약정합니다. 상담 시 투명하게 비용 내역을 안내해 드립니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 법원으로부터 소장을 받았는데 어떻게 해야 하나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          소장을 받은 날로부터 30일 이내에 답변서를 제출해야 합니다. 이 기간 내에 답변서를 제출하지 않으면 상대방의 주장을 모두 인정하는 것으로 간주되어 불리한 판결을 받을 수 있습니다. 즉시 변호사와 상담하여 대응 전략을 수립해야 합니다.
        </p>
      </details>

      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 소송 전에 상대방 재산을 묶어둘 수 있나요? (가압류/가처분)</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          네, 가능합니다. 이를 '보전처분'이라고 합니다. 승소하더라도 상대방이 재산을 빼돌리면 강제집행이 불가능하므로, 소송 전에 미리 상대방의 부동산, 예금, 자동차 등을 가압류하거나 처분하지 못하도록 가처분 신청을 하는 것이 매우 중요합니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 소송 기간은 보통 얼마나 걸리나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          사건의 복잡성, 쟁점의 수, 증거 신청(감정, 사실조회 등) 여부에 따라 크게 달라집니다. 비교적 간단한 사건은 6개월 내외로 종결되기도 하지만, 1심 판결까지 1년 이상 소요되는 경우도 많습니다. 항소나 상고를 하면 기간은 더 길어집니다.
        </p>
      </details>

      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 반드시 재판에 출석해야 하나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          변호사를 선임하면 의뢰인이 직접 법정에 출석하지 않아도 됩니다. 변호사가 대리인으로서 모든 재판 절차를 진행합니다. 다만, 당사자 신문이 필요한 경우에는 출석해야 할 수 있습니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 승소하면 변호사 비용을 상대방에게 받을 수 있나요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          네, 승소하면 '소송비용확정신청'을 통해 상대방에게 변호사 보수를 포함한 소송 비용의 일부를 청구할 수 있습니다. 다만, 실제 지출한 변호사 비용 전액이 아닌, 대법원 규칙에서 정한 기준에 따라 산정된 금액만 받을 수 있습니다.
        </p>
      </details>
      
      <details class="py-4 group">
        <summary class="font-medium cursor-pointer flex justify-between items-center hover:text-blue-600 transition-colors">
          <span>Q. 증거가 부족한데 소송을 할 수 있을까요?</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">▼</span>
        </summary>
        <p class="mt-4 text-gray-700 leading-relaxed">
          민사소송에서는 주장을 하는 쪽에서 증거를 통해 입증해야 합니다. 증거가 부족하면 불리할 수 있지만, 법원을 통한 사실조회, 문서제출명령, 감정신청 등 다양한 증거 수집 방법이 있습니다. 변호사와 상담하여 입증 가능성을 먼저 진단받는 것이 중요합니다.
        </p>
      </details>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
  <script>
    // Mermaid 초기화 - Alpine.js와의 타이밍 문제 해결을 위해 수동으로 렌더링
    mermaid.initialize({
      startOnLoad: false,  // 자동 시작 비활성화
      theme: 'neutral',
      flowchart: {
        htmlLabels: true,
        curve: 'basis',
        nodeSpacing: 50,
        rankSpacing: 50
      }
    });

    // 다이어그램 원본 텍스트 저장
    const mermaidDiagramTexts = {};
    
    // 페이지 로드시 원본 텍스트 저장 - 자동으로 모든 mermaid 다이어그램 감지
    document.addEventListener('DOMContentLoaded', () => {
      // data-tab 속성을 가진 모든 mermaid 요소를 찾아서 저장
      const mermaidElements = document.querySelectorAll('.mermaid[id^="mermaidDiagram"]');
      
      mermaidElements.forEach(element => {
        // ID에서 탭 이름 추출 (예: mermaidDiagramPlaintiff -> plaintiff)
        const tabName = element.id.replace('mermaidDiagram', '').toLowerCase();
        if (tabName) {
          mermaidDiagramTexts[tabName] = element.textContent.trim();
          console.log(`Stored diagram for tab: ${tabName}`);
        }
      });
    });

    // Alpine.js가 렌더링된 후 Mermaid 다이어그램 렌더링
    function renderMermaidDiagrams(specificTab = null) {
      if (!specificTab) return;
      
      // 동적으로 탭 이름을 기반으로 요소 찾기
      const elementId = `mermaidDiagram${specificTab.charAt(0).toUpperCase() + specificTab.slice(1)}`;
      const element = document.getElementById(elementId);
      
      if (element && mermaidDiagramTexts[specificTab]) {
        // 기존 내용 모두 제거
        element.innerHTML = '';
        element.removeAttribute('data-processed');
        element.textContent = mermaidDiagramTexts[specificTab];
        
        // mermaid 렌더링
        try {
          mermaid.init(undefined, element);
          console.log(`Rendered diagram for tab: ${specificTab}`);
        } catch (e) {
          console.error(`Mermaid rendering error for ${specificTab}:`, e);
        }
      } else {
        console.warn(`No diagram found for tab: ${specificTab}`);
      }
    }

    // 드래그 기능 구현 함수
    function setupDragFeature(containerId, diagramId) {
      const container = document.getElementById(containerId);
      const diagram = document.getElementById(diagramId);
      if (!container || !diagram) return;

      let isDragging = false;
      let startX, startY, scrollLeft, scrollTop;

      container.addEventListener('mousedown', (e) => {
        isDragging = true;
        container.style.cursor = 'grabbing';
        startX = e.pageX - container.offsetLeft;
        startY = e.pageY - container.offsetTop;
        scrollLeft = container.scrollLeft;
        scrollTop = container.scrollTop;
      });

      container.addEventListener('mouseleave', () => {
        isDragging = false;
        container.style.cursor = 'grab';
      });

      container.addEventListener('mouseup', () => {
        isDragging = false;
        container.style.cursor = 'grab';
      });

      container.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - container.offsetLeft;
        const y = e.pageY - container.offsetTop;
        const walkX = (x - startX) * 1.5;
        const walkY = (y - startY) * 1.5;
        container.scrollLeft = scrollLeft - walkX;
        container.scrollTop = scrollTop - walkY;
      });

      // 터치 이벤트 지원
      let touchStartX, touchStartY;

      container.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].pageX - container.offsetLeft;
        touchStartY = e.touches[0].pageY - container.offsetTop;
        scrollLeft = container.scrollLeft;
        scrollTop = container.scrollTop;
      });

      container.addEventListener('touchmove', (e) => {
        e.preventDefault();
        const x = e.touches[0].pageX - container.offsetLeft;
        const y = e.touches[0].pageY - container.offsetTop;
        const walkX = (x - touchStartX) * 1.5;
        const walkY = (y - touchStartY) * 1.5;
        container.scrollLeft = scrollLeft - walkX;
        container.scrollTop = scrollTop - walkY;
      });
    }

    // 두 개의 다이어그램에 대해 드래그 기능 설정
    setupDragFeature('mermaidContainerPlaintiff', 'mermaidDiagramPlaintiff');
    setupDragFeature('mermaidContainerDefendant', 'mermaidDiagramDefendant');

    let currentZoomPlaintiff = window.innerWidth <= 768 ? 1: 1.2;
    let currentZoomDefendant = window.innerWidth <= 768 ? 1: 1.2;

    // 줌 기능
    function zoomDiagram(delta, type) {
      let currentZoom, diagramId;
      
      if (type === 'plaintiff') {
        currentZoomPlaintiff = Math.max(0.5, Math.min(2, currentZoomPlaintiff + delta));
        currentZoom = currentZoomPlaintiff;
        diagramId = 'mermaidDiagramPlaintiff';
      } else {
        currentZoomDefendant = Math.max(0.5, Math.min(2, currentZoomDefendant + delta));
        currentZoom = currentZoomDefendant;
        diagramId = 'mermaidDiagramDefendant';
      }
      
      const diagram = document.getElementById(diagramId);
      if (diagram) {
        diagram.style.transform = `scale(${currentZoom})`;
        diagram.style.transformOrigin = 'top left';
        diagram.style.width = `${100 * currentZoom}%`;
        diagram.style.height = `${100 * currentZoom}%`;
      }
    }

    function resetZoom(type) {
      const defaultZoom = 1.2;
      let diagramId;
      
      if (type === 'plaintiff') {
        currentZoomPlaintiff = defaultZoom;
        diagramId = 'mermaidDiagramPlaintiff';
      } else {
        currentZoomDefendant = defaultZoom;
        diagramId = 'mermaidDiagramDefendant';
      }
      
      const diagram = document.getElementById(diagramId);
      if (diagram) {
        diagram.style.transform = `scale(${defaultZoom})`;
        diagram.style.transformOrigin = 'top left';
        diagram.style.width = `${100 * defaultZoom}%`;
        diagram.style.height = `${100 * defaultZoom}%`;
      }
    }
  </script>

  <!-- JS -->
  <script>
    // 네비게이션 관련 함수들은 nav.js에서 처리됩니다

    // 스크롤 관련 기능들은 nav.js에서 처리됩니다

    // ===================================
    // 스탯 섹션 관련 기능 (카운터 애니메이션)
    // ===================================

    // 숫자 카운트업 애니메이션 (개선된 버전)
    function animateCounter(element) {
      // 이미 애니메이션이 실행 중이면 중복 실행 방지
      if (element.isAnimating) {
        return;
      }
      element.isAnimating = true;

      const target = parseInt(element.getAttribute('data-target'));
      const duration = 3000; // 3초로 조금 더 길게
      const start = 0;
      let current = start;
      let startTime = null;

      // requestAnimationFrame을 사용하여 더 부드러운 애니메이션
      function animate(currentTime) {
        if (startTime === null) startTime = currentTime;
        const progress = Math.min((currentTime - startTime) / duration, 1);

        // easeOutQuart 이징 함수 적용
        const easeProgress = 1 - Math.pow(1 - progress, 4);
        current = Math.floor(target * easeProgress);

        element.textContent = current.toLocaleString();

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          element.textContent = target.toLocaleString();
          element.isAnimating = false;
        }
      }
      requestAnimationFrame(animate);
    }

    // 옵저버 설정 (모바일 최적화)
    const observerOptions = {
      threshold: [0, 0.1, 0.2], // 여러 임계점 설정으로 더 정확한 감지
      rootMargin: '-20px 0px -20px 0px' // 상하 20px 여유 (모바일 친화적)
    };

    // Intersection Observer로 스크롤 시 애니메이션 트리거 (개선된 버전)
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          console.log('스탯 섹션이 화면에 나타남'); // 디버깅용

          const counters = entry.target.querySelectorAll('.counter');
          console.log('찾은 카운터 개수:', counters.length); // 디버깅용

          counters.forEach((counter, index) => {
            if (!counter.classList.contains('animated')) {
              counter.classList.add('animated');

              // 각 카운터를 순차적으로 애니메이션 (0.2초 간격)
              setTimeout(() => {
                animateCounter(counter);
              }, index * 200);
            }
          });

          // 애니메이션이 시작되면 옵저버 해제 (중복 실행 방지)
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function () {
      // 네비게이션 관련 설정은 nav.js에서 처리됩니다

      // 스탯 섹션 관찰 시작
      const statsSection = document.getElementById('stats');
      if (statsSection) {
        observer.observe(statsSection);

        // 모바일에서 Intersection Observer가 작동하지 않을 때를 대비한 fallback
        // 5초 후에 스탯 섹션이 여전히 애니메이션되지 않았다면 강제 실행
        setTimeout(() => {
          const counters = statsSection.querySelectorAll('.counter:not(.animated)');
          if (counters.length > 0) {
            console.log('Fallback: 스탯 애니메이션을 강제 실행합니다');
            counters.forEach((counter, index) => {
              counter.classList.add('animated');
              setTimeout(() => {
                animateCounter(counter);
              }, index * 200);
            });
          }
        }, 5000);
      }

      // 두 개의 다이어그램에 대해 초기 확대 적용
      const diagramPlaintiff = document.getElementById('mermaidDiagramPlaintiff');
      if (diagramPlaintiff) {
        diagramPlaintiff.style.transform = `scale(${currentZoomPlaintiff})`;
        diagramPlaintiff.style.transformOrigin = 'top left';
        diagramPlaintiff.style.width = `${100 * currentZoomPlaintiff}%`;
        diagramPlaintiff.style.height = `${100 * currentZoomPlaintiff}%`;
      }

      const diagramDefendant = document.getElementById('mermaidDiagramDefendant');
      if (diagramDefendant) {
        diagramDefendant.style.transform = `scale(${currentZoomDefendant})`;
        diagramDefendant.style.transformOrigin = 'top left';
        diagramDefendant.style.width = `${100 * currentZoomDefendant}%`;
        diagramDefendant.style.height = `${100 * currentZoomDefendant}%`;
      }

      // 오버레이 터치/클릭/스크롤 시 사라지게 - 각 다이어그램에 대해 설정
      function setupOverlay(overlayId, containerId) {
        const overlay = document.getElementById(overlayId);
        if (overlay) {
          const hideOverlay = () => {
            overlay.classList.add('hide');
            setTimeout(() => { overlay.style.display = 'none'; }, 500);
          };
          // 터치, 클릭, 스크롤 모두 감지
          overlay.addEventListener('touchstart', hideOverlay, { once: true });
          overlay.addEventListener('click', hideOverlay, { once: true });
          overlay.addEventListener('wheel', hideOverlay, { once: true });
          // 다이어그램 컨테이너 스크롤도 감지
          const mermaidContainer = document.getElementById(containerId);
          if (mermaidContainer) {
            mermaidContainer.addEventListener('scroll', hideOverlay, { once: true });
          }
        }
      }

      setupOverlay('mermaidOverlayPlaintiff', 'mermaidContainerPlaintiff');
      setupOverlay('mermaidOverlayDefendant', 'mermaidContainerDefendant');
    });

    // Alpine.js x-show 전환시 Mermaid 재렌더링을 위한 이벤트 리스너
    document.addEventListener('alpine:init', () => {
      Alpine.data('processTab', () => ({
        activeProcessTab: 'plaintiff',
        init() {
          // Alpine 컴포넌트 초기화 시점에 첫 렌더링을 수행합니다.
          // setTimeout을 사용해 Alpine이 DOM을 업데이트할 시간을 확보합니다.
          this.$nextTick(() => {
            setTimeout(() => {
              renderMermaidDiagrams('plaintiff');
            }, 100);
          });

          // activeProcessTab 값이 변경될 때마다 해당 탭의 다이어그램을 렌더링합니다.
          this.$watch('activeProcessTab', (newTab) => {
            this.$nextTick(() => {
              setTimeout(() => {
                renderMermaidDiagrams(newTab);
              }, 100);
            });
          });
        }
      }));
    });

    // ===================================
    // 스탯 섹션 관련 기능 (카운터 애니메이션)
    // ===================================

    // 메가메뉴 및 모바일 아코디언 제어는 nav.js에서 처리됩니다
  </script>
</body>

</html>
